{"version":3,"file":"bundle.js","sources":["node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js","src/modules.ts","src/utils.ts","src/base.ts","src/Settings/Models/settings.ts","src/Settings/settingBase.ts","src/Settings/global.ts","src/Settings/reset.ts","src/Settings/mainmenu.ts","src/Settings/settingUtils.ts","src/Settings/settingDefinitions.ts","src/Modules/core.ts","src/Modules/commands.ts","src/Modules/cards.ts","src/Modules/crafts.ts","src/Modules/misc.ts","src/Settings/artifacts.ts","src/Modules/artifacts.ts","src/Settings/Remote/remoteBase.ts","src/Settings/Remote/petsuitCollar.ts","src/Settings/Remote/mainmenu.ts","src/Modules/remoteUi.ts","src/main.ts"],"sourcesContent":["// Bondage Club Mod Development Kit (1.1.0)\n// For more info see: https://github.com/Jomshir98/bondage-club-mod-sdk\n/** @type {ModSDKGlobalAPI} */\nvar bcModSdk=function(){\"use strict\";const e=\"1.1.0\";function o(e){alert(\"Mod ERROR:\\n\"+e);const o=new Error(e);throw console.error(o),o}const t=new TextEncoder;function n(e){return!!e&&\"object\"==typeof e&&!Array.isArray(e)}function r(e){const o=new Set;return e.filter((e=>!o.has(e)&&o.add(e)))}const i=new Map,a=new Set;function d(e){a.has(e)||(a.add(e),console.warn(e))}function s(e){const o=[],t=new Map,n=new Set;for(const r of p.values()){const i=r.patching.get(e.name);if(i){o.push(...i.hooks);for(const[o,a]of i.patches.entries())t.has(o)&&t.get(o)!==a&&d(`ModSDK: Mod '${r.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\\nPattern:\\n${o}\\nPatch1:\\n${t.get(o)||\"\"}\\nPatch2:\\n${a}`),t.set(o,a),n.add(r.name)}}o.sort(((e,o)=>o.priority-e.priority));const r=function(e,o){if(0===o.size)return e;let t=e.toString().replaceAll(\"\\r\\n\",\"\\n\");for(const[n,r]of o.entries())t.includes(n)||d(`ModSDK: Patching ${e.name}: Patch ${n} not applied`),t=t.replaceAll(n,r);return(0,eval)(`(${t})`)}(e.original,t);let i=function(o){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(t,e.name,n),d=r.apply(this,o);return null==a||a(),d};for(let t=o.length-1;t>=0;t--){const n=o[t],r=i;i=function(o){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(t,e.name,n.mod),d=n.hook.apply(this,[o,e=>{if(1!==arguments.length||!Array.isArray(o))throw new Error(`Mod ${n.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return r.call(this,e)}]);return null==a||a(),d}}return{hooks:o,patches:t,patchesSources:n,enter:i,final:r}}function c(e,o=!1){let r=i.get(e);if(r)o&&(r.precomputed=s(r));else{let o=window;const a=e.split(\".\");for(let t=0;t<a.length-1;t++)if(o=o[a[t]],!n(o))throw new Error(`ModSDK: Function ${e} to be patched not found; ${a.slice(0,t+1).join(\".\")} is not object`);const d=o[a[a.length-1]];if(\"function\"!=typeof d)throw new Error(`ModSDK: Function ${e} to be patched not found`);const c=function(e){let o=-1;for(const n of t.encode(e)){let e=255&(o^n);for(let o=0;o<8;o++)e=1&e?-306674912^e>>>1:e>>>1;o=o>>>8^e}return((-1^o)>>>0).toString(16).padStart(8,\"0\").toUpperCase()}(d.toString().replaceAll(\"\\r\\n\",\"\\n\")),l={name:e,original:d,originalHash:c};r=Object.assign(Object.assign({},l),{precomputed:s(l),router:()=>{},context:o,contextProperty:a[a.length-1]}),r.router=function(e){return function(...o){return e.precomputed.enter.apply(this,[o])}}(r),i.set(e,r),o[r.contextProperty]=r.router}return r}function l(){const e=new Set;for(const o of p.values())for(const t of o.patching.keys())e.add(t);for(const o of i.keys())e.add(o);for(const o of e)c(o,!0)}function f(){const e=new Map;for(const[o,t]of i)e.set(o,{name:o,original:t.original,originalHash:t.originalHash,sdkEntrypoint:t.router,currentEntrypoint:t.context[t.contextProperty],hookedByMods:r(t.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(t.precomputed.patchesSources)});return e}const p=new Map;function u(e){p.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),p.delete(e.name),e.loaded=!1,l()}function g(e,t,r){\"string\"==typeof e&&\"string\"==typeof t&&(alert(`Mod SDK warning: Mod '${e}' is registering in a deprecated way.\\nIt will work for now, but please inform author to update.`),e={name:e,fullName:e,version:t},t={allowReplace:!0===r}),e&&\"object\"==typeof e||o(\"Failed to register mod: Expected info object, got \"+typeof e),\"string\"==typeof e.name&&e.name||o(\"Failed to register mod: Expected name to be non-empty string, got \"+typeof e.name);let i=`'${e.name}'`;\"string\"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${i}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),i=`'${e.fullName} (${e.name})'`,\"string\"!=typeof e.version&&o(`Failed to register mod ${i}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&\"string\"!=typeof e.repository&&o(`Failed to register mod ${i}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&\"object\"==typeof t||o(`Failed to register mod ${i}: Expected options to be undefined or object, got ${typeof t}`);const a=!0===t.allowReplace,d=p.get(e.name);d&&(d.allowReplace&&a||o(`Refusing to load mod ${i}: it is already loaded and doesn't allow being replaced.\\nWas the mod loaded multiple times?`),u(d));const s=e=>{\"string\"==typeof e&&e||o(`Mod ${i} failed to patch a function: Expected function name string, got ${typeof e}`);let t=g.patching.get(e);return t||(t={hooks:[],patches:new Map},g.patching.set(e,t)),t},f={unload:()=>u(g),hookFunction:(e,t,n)=>{g.loaded||o(`Mod ${i} attempted to call SDK function after being unloaded`);const r=s(e);\"number\"!=typeof t&&o(`Mod ${i} failed to hook function '${e}': Expected priority number, got ${typeof t}`),\"function\"!=typeof n&&o(`Mod ${i} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const a={mod:g.name,priority:t,hook:n};return r.hooks.push(a),l(),()=>{const e=r.hooks.indexOf(a);e>=0&&(r.hooks.splice(e,1),l())}},patchFunction:(e,t)=>{g.loaded||o(`Mod ${i} attempted to call SDK function after being unloaded`);const r=s(e);n(t)||o(`Mod ${i} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,a]of Object.entries(t))\"string\"==typeof a?r.patches.set(n,a):null===a?r.patches.delete(n):o(`Mod ${i} failed to patch function '${e}': Invalid format of patch '${n}'`);l()},removePatches:e=>{g.loaded||o(`Mod ${i} attempted to call SDK function after being unloaded`);s(e).patches.clear(),l()},callOriginal:(e,t,n)=>(g.loaded||o(`Mod ${i} attempted to call SDK function after being unloaded`),\"string\"==typeof e&&e||o(`Mod ${i} failed to call a function: Expected function name string, got ${typeof e}`),Array.isArray(t)||o(`Mod ${i} failed to call a function: Expected args array, got ${typeof t}`),function(e,o,t=window){return c(e).original.apply(t,o)}(e,t,n)),getOriginalHash:e=>(\"string\"==typeof e&&e||o(`Mod ${i} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)},g={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:a,api:f,loaded:!0,patching:new Map};return p.set(e.name,g),Object.freeze(f)}function h(){const e=[];for(const o of p.values())e.push({name:o.name,fullName:o.fullName,version:o.version,repository:o.repository});return e}let m;const y=function(){if(void 0===window.bcModSdk)return window.bcModSdk=function(){const o={version:e,apiVersion:1,registerMod:g,getModsInfo:h,getPatchingInfo:f,errorReporterHooks:Object.seal({hookEnter:null,hookChainExit:null})};return m=o,Object.freeze(o)}();if(n(window.bcModSdk)||o(\"Failed to init Mod SDK: Name already in use\"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.1.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&(alert(`Mod SDK warning: Loading different but compatible versions ('1.1.0' vs '${window.bcModSdk.version}')\\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk.version.startsWith(\"1.0.\")&&void 0===window.bcModSdk._shim10register)){const e=window.bcModSdk,o=Object.freeze(Object.assign(Object.assign({},e),{registerMod:(o,t,n)=>o&&\"object\"==typeof o&&\"string\"==typeof o.name&&\"string\"==typeof o.version?e.registerMod(o.name,o.version,\"object\"==typeof t&&!!t&&!0===t.allowReplace):e.registerMod(o,t,n),_shim10register:!0}));window.bcModSdk=o}return window.bcModSdk}();return\"undefined\"!=typeof exports&&(Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=y),y}();\n","import { BaseModule } from \"base\";\r\n\r\nexport const modulesMap: Map<string, BaseModule> = new Map<string, BaseModule>();\r\n\r\nexport function modules(): BaseModule[] {\r\n\treturn [...modulesMap.values()];\r\n}\r\n\r\nexport function registerModule<T extends BaseModule>(module: T): T {\r\n\tmodulesMap.set(module.constructor.name, module);\r\n\treturn module;\r\n}\r\n\r\nexport function getModule<T extends BaseModule>(moduleType: string): T {\r\n\treturn modulesMap.get(moduleType) as T;\r\n}","import bcModSDKRef from \"bondage-club-mod-sdk\";\r\nimport { getModule } from \"modules\";\r\nimport { CoreModule } from \"Modules/core\";\r\nimport { ModuleCategory } from \"Settings/settingDefinitions\";\r\n\r\ntype PatchHook = (args: any[], next: (args: any[]) => any) => any;\r\ninterface IPatchedFunctionData {\r\n\tname: string;\r\n\thooks: {\r\n\t\thook: PatchHook;\r\n\t\tpriority: number;\r\n\t\tmodule: /*ModuleCategorie | */null;\r\n\t\tremoveCallback: () => void;\r\n\t}[];\r\n}\r\n\r\nconst patchedFunctions: Map<string, IPatchedFunctionData> = new Map();\r\n\r\nexport const bcModSDK = bcModSDKRef.registerMod({\r\n\tname: \"LLS\",\r\n\tfullName: \"Lillys Little Scripts\",\r\n\tversion: LLS_VERSION.startsWith(\"v\") ?LLS_VERSION.slice(1) : LLS_VERSION\r\n});\r\n\r\nexport function shuffleArray(array: any[]) { \r\n\tfor (let i = array.length - 1; i > 0; i--) { \r\n\t  const j = Math.floor(Math.random() * (i + 1)); \r\n\t  [array[i], array[j]] = [array[j], array[i]]; \r\n\t} \r\n}\r\n\r\nexport function SendMessage(msg: string, target: null | number = null) {\r\n\tif(!msg) return;\r\n    ServerSend(\"ChatRoomChat\", {\r\n\t\tType: \"Chat\",\r\n\t\tContent: msg,\r\n\t\tTarget: target\r\n\t\t});\r\n}\r\n\r\n//OLD (I think)\r\nexport function SendActivityMessage(msg: string, target: null | number = null) {\r\n\tif(!msg) return;\r\n    ServerSend(\"ChatRoomChat\", {\r\n\t\tType: \"Action\",\r\n\t\tContent: \"Beep\",\r\n\t\tTarget: target,\r\n\t\tDictionary: [{Tag: \"Beep\", Text: msg}]\r\n\t\t});\r\n\t\t\r\n//ServerSend(\"ChatRoomChat\", { Content: \"Beep\", Type: \"Action\", Dictionary: [{Tag: \"Beep\", Text: `${CharacterNickname(Player)} was dragged to the ground by a chain` }]})\r\n}\r\n\r\nexport function SendAction(action: string, sender: Character | null = null) {\r\n\tlet msg = replace_template(action, sender);\r\n    ServerSend(\"ChatRoomChat\", {Content: \"Beep\", Type: \"Action\", Dictionary: [\r\n\t\t// EN\r\n\t\t{ Tag: \"Beep\", Text: \"msg\" },\r\n\t\t// CN\r\n\t\t{ Tag: \"发送私聊\", Text: \"msg\" },\r\n\t\t// DE\r\n\t\t{ Tag: \"Biep\", Text: \"msg\" },\r\n\t\t// FR\r\n\t\t{ Tag: \"Sonner\", Text: \"msg\" },\r\n\t\t// Message itself\r\n\t\t{ Tag: \"msg\", Text: msg },\r\n\r\n\t]});\r\n}\r\n\r\nexport function sendLLSMessage(msg: LLSMessageModel) {\r\n\tconst packet = <IChatRoomMessage>{\r\n\t\tType: \"Hidden\",\r\n\t\tContent: \"LLSMsg\",\r\n\t\tSender: Player.MemberNumber,\r\n\t\tDictionary: [\r\n\t\t\t<LLSMessageDictionaryEntry>{\r\n\t\t\t\tmessage: msg\r\n\t\t\t},\r\n\t\t],\r\n\t};\r\n\t\r\n\tServerSend(\"ChatRoomChat\", packet);\r\n}\r\n\r\nexport function sendHiddenMessage(msg: LLSMessageModel) {\r\n\tconst packet = <IChatRoomMessage>{\r\n\t\tType: \"Hidden\",\r\n\t\tContent: \"LLSMsg\",\r\n\t\tSender: Player.MemberNumber,\r\n\t\tDictionary: [\r\n\t\t\t<LLSMessageDictionaryEntry>{\r\n\t\t\t\tmessage: msg\r\n\t\t\t},\r\n\t\t],\r\n\t};\r\n\t\r\n\tServerSend(\"ChatRoomChat\", packet);\r\n}\r\n\r\nexport function LLS_SendLocal(msg: string, time?: number) {\r\n\tvar bgColor = (Player.ChatSettings!.ColorTheme!.indexOf(\"Light\") > -1) ? \"#f2feff\" : \"#1c2829\";\r\n\tlet text = `<div style='background-color:${bgColor};'>${msg}</div>`;\r\n\tChatRoomSendLocal(text);\r\n}\r\n\r\nexport function getCharacterNumber(name: string){\r\n\t/*let memberNumber: number = -1;\r\n\tlet error: boolean = false;\r\n\tfor( let c of ChatRoomCharacter){\r\n\t\tif(c.Name === name){\r\n\t\t\tif(memberNumber === -1) memberNumber = c.MemberNumber;\r\n\t\t\telse error = true;\r\n\t\t}else if(c.Nickname === name){\r\n\t\t\tif(memberNumber === -1) memberNumber = c.MemberNumber;\r\n\t\t\telse error = true;\r\n\t\t}\r\n\t}\r\n\treturn error ? -1 : memberNumber;*/\r\n\treturn ChatRoomCharacter.find(c => c.Name.toLowerCase() == name.toLowerCase())?.MemberNumber ?? null;\r\n}\r\n\r\nexport function getChatroomCharacter(memberNumber: number) {\r\n\treturn ChatRoomCharacter.find(c => c.MemberNumber == memberNumber) ?? null;\r\n}\r\nexport function getCharacterName(memberNumber: number, defaultText: string): string;\r\nexport function getCharacterName(memberNumber: number, defaultText: string | null): string | null;\r\nexport function getCharacterName(memberNumber: number, defaultText: string | null = null): string | null {\r\n\tconst c = getChatroomCharacter(memberNumber);\r\n\tif (c) {\r\n\t\treturn c.Name;\r\n\t}\r\n\tif (Player.MemberNumber === memberNumber) {\r\n\t\treturn Player.Name;\r\n\t}\r\n\tfor (const char of ChatRoomCharacter) {\r\n\t\tif (char.MemberNumber === memberNumber)\r\n\t\t\treturn char.Name;\r\n\t\tif (char.Ownership?.MemberNumber === memberNumber)\r\n\t\t\treturn char.Ownership.Name;\r\n\t\tif (Array.isArray(char.Lovership)) {\r\n\t\t\tfor (const lover of char.Lovership) {\r\n\t\t\t\tif (lover.MemberNumber === memberNumber)\r\n\t\t\t\t\treturn lover.Name;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconst friendName = Player.FriendNames?.get(memberNumber);\r\n\tif (friendName)\r\n\t\treturn friendName;\r\n\treturn defaultText;\r\n}\r\n\r\nexport function lockItem(C: Character, Item: Item | AssetGroupName | null, lock: string, MemberNumber: null | number | string = null) {\r\n\tif(!Item) return;\r\n\tlet Asset = AssetGet(\"Female3DCG\", \"ItemMisc\", lock)\r\n\tif(!Asset) return;\r\n\tlet Lock = { Asset: Asset }\r\n\tif(!Lock) return;\r\n\tInventoryLock(C, Item, Lock, MemberNumber === null ? -1 : MemberNumber);\r\n\tif(typeof Item == \"string\") return;\r\n\tif(Item.Property && Item.Property.Password){\r\n\t\tItem.Property.Password = \"LLS\" + makePassword(5);\r\n\t\tItem.Property.LockSet = true;\r\n\t\tChatRoomCharacterUpdate(C);\r\n\t}\r\n}\r\n\r\nexport function makePassword(length: number) {\r\n    let result = '';\r\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    const charactersLength = characters.length;\r\n    let counter = 0;\r\n    while (counter < length) {\r\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n      counter += 1;\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function replace_template(text: string, source: Character | null = null) {\r\n    let result = text;\r\n\tlet pronounItem = InventoryGet(Player, \"Pronouns\");\r\n\tlet posessive = \"Her\";\r\n\tlet intensive = \"Her\"\r\n\tlet pronoun = \"She\";\r\n\tif (pronounItem?.Asset.Name == \"HeHim\") {\r\n\t\tposessive = \"His\";\r\n\t\tintensive = \"Him\";\r\n\t\tpronoun = \"He\";\r\n\t}\r\n\r\n\tlet oppName = !!source ? CharacterNickname(source) : \"\";\r\n\r\n    result = result.replaceAll(\"%POSSESSIVE%\", posessive.toLocaleLowerCase())\r\n    result = result.replaceAll(\"%CAP_POSSESSIVE%\", posessive)\r\n    result = result.replaceAll(\"%PRONOUN%\", pronoun.toLocaleLowerCase())\r\n    result = result.replaceAll(\"%CAP_PRONOUN%\", pronoun)\r\n    result = result.replaceAll(\"%INTENSIVE%\", intensive.toLocaleLowerCase())\r\n    result = result.replaceAll(\"%CAP_INTENSIVE%\", intensive)\r\n    result = result.replaceAll(\"%NAME%\", CharacterNickname(Player)) //Does this works to print \"Lilly\"? -- it should, yes\r\n    result = result.replaceAll(\"%OPP_NAME%\", oppName) // finally we can use the source name to make the substitution\r\n\r\n    return result\r\n}\r\n\r\nexport function removeAllHooksByModule(module: ModuleCategory): boolean {\r\n\tfor (const data of patchedFunctions.values()) {\r\n\t\tfor (let i = data.hooks.length - 1; i >= 0; i--) {\r\n\t\t\tif (data.hooks[i].module === module) {\r\n\t\t\t\tdata.hooks[i].removeCallback();\r\n\t\t\t\tdata.hooks.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction initPatchableFunction(target: string): IPatchedFunctionData {\r\n\tlet result = patchedFunctions.get(target);\r\n\tif (!result) {\r\n\t\tresult = {\r\n\t\t\tname: target,\r\n\t\t\thooks: []\r\n\t\t};\r\n\t\tpatchedFunctions.set(target, result);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function OnWhisper(priority: number, module: ModuleCategory, callback: (data: any, sender: Character | null, msg: string, metadata: any) => string | void) {\r\n\thookFunction(\"ChatRoomMessage\", priority, (args, next) => {\r\n        var data = args[0];\r\n\t\tvar sender = getChatroomCharacter(data.Sender);\r\n        if (data.Type == \"Whisper\")\r\n            if(callback(data, sender, data.Content, data.Dictionary) == \"skipBCX\"){ //EWW, but it works\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\tnext(args);\r\n    }, module);\r\n}\r\n\r\nexport function OnChat(priority: any, module: ModuleCategory, callback: (data: any, sender: Character | null, msg: string, metadata: any) => void) {\r\n    hookFunction(\"ChatRoomMessage\", priority, (args, next) => {\r\n        var data = args[0];\r\n\t\tvar sender = getChatroomCharacter(data.Sender);\r\n        if (data.Type == \"Chat\" || data.Type == \"Whisper\")\r\n            callback(data, sender, data.Content, data.Dictionary);\r\n\t\tnext(args);\r\n    }, module);\r\n}\r\n\r\nexport function OnAction(priority: any, module: ModuleCategory, callback: (data: any, sender: Character | null, msg: string, metadata: any) => void) {\r\n    hookFunction(\"ChatRoomMessage\", priority, (args, next) => {\r\n        var data = args[0];\r\n\t\tvar sender = getChatroomCharacter(data.Sender);\r\n        if (data.Type == \"Action\" || data.Type == \"Emote\"){\r\n\t\t\tcallback(data, sender, data.Content, data.Dictionary);\r\n\t\t}\r\n\t\tnext(args);\r\n    }, module);\r\n}\r\n\r\nexport function OnActivity(priority: any, module: ModuleCategory, callback: (data: any, sender: Character | null, msg: string, metadata: any) => void) {\r\n    hookFunction(\"ChatRoomMessage\", priority, (args, next) => {\r\n        var data = args[0];\r\n\t\tvar sender = getChatroomCharacter(data.Sender);\r\n        if (data.Type == \"Activity\"){\r\n\t\t\tcallback(data, sender, data.Content, data.Dictionary);\r\n\t\t}\r\n\t\tnext(args);\r\n    }, module);\r\n}\r\n\r\nexport function OnSentMessage(priority: any, module: ModuleCategory, callback: (data: any, sender: Character | null, msg: string, metadata: any) => void) {\r\n\thookFunction(\"ServerSend\", priority, (args, next) => {\r\n\t\tvar data = args[1];\r\n\t\tvar sender = getChatroomCharacter(data.Sender);\r\n\t\tif (args[0] === \"ChatRoomChat\")\r\n\t\t\tcallback(data, sender, data.Content, data.Dictionary);\r\n\t\tnext(args);\r\n\t}, module);\r\n}\r\n\r\n\r\nexport function hookFunction(target: string, priority: number, hook: PatchHook, module: ModuleCategory | null = null): () => void {\r\n\tconst data = initPatchableFunction(target);\r\n\r\n\tif (data.hooks.some(h => h.hook === hook)) {\r\n\t\tconsole.error(`LLS: Duplicate hook for \"${target}\"`, hook);\r\n\t\treturn () => null;\r\n\t}\r\n\r\n\t// let wrappedHook: PatchHook = (args, next) => {\r\n\t// \ttry {\r\n\t// \t\treturn hook(args, next);\r\n\t// \t} catch (error: any) {\r\n\t// \t\tlet msg = `LLS Error -- ${error.message}`;\r\n\t// \t\tconsole.error(`${msg} \\n${error.stack}`);\r\n\t// \t\tif (target != \"ChatRoomMessage\" && target != \"ChatRoomSendLocal\") {\r\n\t// \t\t\ttry {\r\n\t// \t\t\t\tLLS_SendLocal(msg);\r\n\t// \t\t\t} catch (inner) {}\r\n\t// \t\t}\r\n\t// \t\tif (!!Player.LLS.RethrowExceptions)\r\n\t// \t\t\tthrow error;\r\n\t// \t\treturn next(args);\r\n\t// \t}\r\n\t// }\r\n\r\n\tconst removeCallback = bcModSDK.hookFunction(target, priority, hook);\r\n\tmodule = null;//TODO\r\n\tdata.hooks.push({\r\n\t\thook,\r\n\t\tpriority,\r\n\t\tmodule,\r\n\t\tremoveCallback\r\n\t});\r\n\tdata.hooks.sort((a, b) => b.priority - a.priority);\r\n\treturn removeCallback;\r\n}\r\n\r\nexport function settingsSave(publish: boolean = false) {\r\n\tif (!Player.OnlineSettings)\r\n\t\tPlayer.OnlineSettings = <PlayerOnlineSettings>{};\r\n    Player.OnlineSettings.LLS = Player.LLS\r\n    window.ServerAccountUpdate.QueueData({OnlineSettings: Player.OnlineSettings});\r\n\tif (publish)\r\n\t\tgetModule<CoreModule>(\"CoreModule\")?.SendPublicPacket(false, \"sync\");\r\n}\r\n\r\n/** Checks if the `obj` is an object (not null, not array) */\r\nexport function isObject(obj: unknown): obj is Record<string, any> {\r\n\treturn !!obj && typeof obj === \"object\" && !Array.isArray(obj);\r\n}\r\n\r\nexport function removeHooksByModule(target: string, module: ModuleCategory): boolean {\r\n\tconst data = initPatchableFunction(target);\r\n\r\n\tfor (let i = data.hooks.length - 1; i >= 0; i--) {\r\n\t\tif (data.hooks[i].module === module) {\r\n\t\t\tdata.hooks[i].removeCallback();\r\n\t\t\tdata.hooks.splice(i, 1);\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nexport function hookBCXCurse(trigger: \"curseTrigger\", listener: (v: { action: \"remove\" | \"add\" | \"swap\" | \"update\" | \"color\" | \"autoremove\"; group: string; }) => void) {\r\n\twindow.bcx?.getModApi(\"LLS\").on?.(trigger, listener);\r\n}\r\n\r\nexport function BC_ItemToItemBundle(item: Item): ItemBundle {\r\n\treturn <ItemBundle>{\r\n\t\tGroup: item.Asset.Group.Name,\r\n\t\tName: item.Asset.Name,\r\n\t\tColor: item.Color,\r\n\t\tCraft: item.Craft,\r\n\t\tDifficulty: item.Difficulty,\r\n\t\tProperty: item.Property\t\t\r\n\t}\r\n}\r\n\r\n//thank you BCX :>\r\n\r\nexport function smartGetAssetGroup(item: Item | Asset | AssetGroup): AssetGroup {\r\n\tconst group = AssetGroup.includes(item as AssetGroup) ? item as AssetGroup : Asset.includes(item as Asset) ? (item as Asset).Group : (item as Item).Asset.Group;\r\n\tif (!AssetGroup.includes(group)) {\r\n\t\tthrow new Error(\"Failed to convert item to group\");\r\n\t}\r\n\treturn group;\r\n}\r\n\r\nexport function isCloth(item: Item | Asset | AssetGroup, allowCosplay: boolean = false): boolean {\r\n\tif(!item || item == undefined) return false;\r\n\tconst group = smartGetAssetGroup(item);\r\n\treturn group.Category === \"Appearance\" && group.AllowNone && group.Clothing && (allowCosplay || !group.BodyCosplay);\r\n}\r\n\r\nexport function isCosplay(item: Item | Asset | AssetGroup): boolean {\r\n\tconst group = smartGetAssetGroup(item);\r\n\treturn group.Category === \"Appearance\" && group.AllowNone && group.Clothing && group.BodyCosplay;\r\n}\r\n\r\nexport function BC_ItemsToItemBundles(items: Item[]): ItemBundle[] {\r\n\treturn items.filter(i => !!i).map(i => BC_ItemToItemBundle(i));\r\n}\r\n\r\nexport function GetDelimitedList(source: string, delimiter: string = \",\"): string[] {\r\n\treturn source?.split(delimiter)?.filter(entry => !!entry).map(entry => entry.toLocaleLowerCase()) ?? [];\r\n}\r\n\r\nexport function isPhraseInString(string: string, phrase: string, ignoreOOC: boolean = false) {\r\n\tif (!string || string === \"\")\r\n\t\treturn false;\r\n\tlet praseMatch = new RegExp(\"\\\\b\" + escapeRegExp(phrase) + \"\\\\b\", \"i\");\r\n\tlet oocParsed = ignoreOOC ? string : excludeParentheticalContent(string);\r\n\treturn praseMatch.test(oocParsed);\r\n}\r\n\r\nexport function excludeParentheticalContent(msg: string): string {\r\n\tvar result = \"\";\r\n\tvar Par = false;\r\n\tif (msg == null) msg = \"\";\r\n\tfor (let i = 0; i < msg.length; i++) {\r\n\t\tlet char = msg.charAt(i);\r\n\t\tif (char == \"(\" || char == '）') Par = true;\r\n\t\tif (!Par)\r\n\t\t\tresult += char;\r\n\t\tif (char == \")\" || char == \"）\") Par = false;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function escapeRegExp(string: string) {\r\n\treturn string?.toLocaleLowerCase().replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') ?? \"\"; // $& means the whole matched string\r\n}\r\n\r\n/*export function hookLSCGMagic(trigger: \"curseTrigger\", listener: (v: { action: \"remove\" | \"add\" | \"swap\" | \"update\" | \"color\" | \"autoremove\"; group: string; }) => void){\r\n\twindow.LSCG?.getModApi(\"LLS\").on?.(trigger, listener);\r\n}*/\r\n\r\n","import { BaseSettingsModel } from \"Settings/Models/base\";\r\nimport { ISettingsModel } from \"Settings/Models/settings\";\r\nimport { Subscreen } from \"Settings/settingDefinitions\";\r\n\r\nexport abstract class BaseModule {\r\n\tget settingsScreen() : Subscreen | null {\r\n\t\treturn null;\r\n\t};\r\n\r\n\t/** Allows changing the subkey for that module settings storage */\r\n\tget settingsStorage(): string | null {\r\n\t\treturn this.constructor.name;\r\n\t}\r\n\r\n\tget settings(): BaseSettingsModel {\r\n\t\tif (!this.settingsStorage) return {} as BaseSettingsModel;\r\n\t\tif (!Player.LLS) {\r\n\t\t\tPlayer.LLS = <ISettingsModel>{};\r\n\t\t\tthis.registerDefaultSettings();\r\n\t\t}\r\n\t\telse if (!(<any>Player.LLS)[this.settingsStorage])\r\n\t\t\tthis.registerDefaultSettings();\r\n\t\treturn (<any>Player.LLS)[this.settingsStorage];\r\n\t}\r\n\r\n\tget Enabled(): boolean {\r\n\t\tif (!Player.LLS || !Player.LLS.GlobalModule)\r\n\t\t\treturn false;\r\n\t\treturn (ServerPlayerIsInChatRoom() || \r\n\t\t\t(CurrentModule == \"Room\" && CurrentScreen == \"Crafting\"));\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.registerDefaultSettings();\r\n\t}\r\n\r\n\tregisterDefaultSettings(): void {\r\n\t\tconst storage = this.settingsStorage;\r\n\t\tconst defaults = this.defaultSettings;\r\n\t\tif (!storage || !defaults) return;\r\n\r\n\t\t(<any>Player.LLS)[storage] = Object.assign(defaults, (<any>Player.LLS)[storage] ?? {});\r\n\t}\r\n\r\n\tget defaultSettings(): BaseSettingsModel | null {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tload() {\r\n\t\t// Empty\r\n\t}\r\n\r\n\trun() {\r\n\t\t// Empty\r\n\t}\r\n\r\n\tunload() {\r\n\t\t// Empty\r\n\t}\r\n\r\n\treload() {\r\n\t\t// Empty\r\n\t}\r\n\r\n\tsafeword() {\r\n\t\t// Empty\r\n\t}\r\n}","import {\r\n\tArtifactSettingsModel,\r\n\tPetsuitCollarModel,\r\n\tPetsuitCollarSettingsModel,\r\n\tRopeOfTighteningModel,\r\n} from \"./artifacts\";\r\nimport { BaseSettingsModel, GlobalPublicSettingsModel, GlobalSettingsModel, MiscSettingsModel } from \"./base\";\r\n\r\nexport interface ISettingsModel {\r\n\tVersion: string;\r\n\tRethrowExceptions: boolean;\r\n\tGlobalModule: GlobalSettingsModel;\r\n\tMiscModule: MiscSettingsModel;\r\n\tArtifactModule: ArtifactSettingsModel;\r\n}\r\n\r\nexport interface IPublicSettingsModel extends BaseSettingsModel {\r\n\tVersion: string;\r\n\tGlobalModule: GlobalSettingsModel;\r\n\tMiscModule: BaseSettingsModel;\r\n\tArtifactModule: ArtifactSettingsModel;\r\n}\r\n\r\n/*export class SettingsModel implements ISettingsModel {\r\n\tVersion: string = LLS_VERSION;\r\n\tRethrowExceptions: boolean = false;\r\n\tGlobalModule: GlobalSettingsModel = <GlobalSettingsModel>{};\r\n\tMiscModule: MiscSettingsModel = <MiscSettingsModel>{};\r\n\tArtifactModule: ArtifactSettingsModel = <ArtifactSettingsModel>{\r\n\t\tropeOfTighteningEnabled: false,\r\n\t\tpublicRopeOfTighteningEnabled: false,\r\n\t\tropeOfTightening: <RopeOfTighteningModel>{},\r\n\t\tpetsuitCollarSetting: <PetsuitCollarSettingModel>{\r\n\t\t\tenabled: false,\r\n\t\t\tpetsuitCollarEnabled: false,\r\n\t\t\tpetsuitCollarRemoteAccess: false,\r\n\t\t\tpetsuitCollarLockable: false,\r\n\t\t\tpetsuitCollarSpeechEnabled: false,\r\n\t\t\tpetsuitCollarTrigger: \"\",\r\n\t\t\tpetsuitCollarAllowedMembers: \"\",\r\n\t\t\tpetsuitCollarAllowSelfTrigger: false,\r\n\t\t\tpetsuitCollarLockOwner: false,\r\n\t\t\tpetsuitCollarLocked: false,\r\n\t\t\tpetsuitCollarBuckleColor: \"\",\r\n\t\t\tpetsuitCollar: <PetsuitCollarModel>{ name: \"\", creator: 0 },\r\n\t\t\tropeOfTighteningEnabled: false,\r\n\t\t\tpublicRopeOfTighteningEnabled: false,\r\n\t\t\tropeOfTightening: <RopeOfTighteningModel>{ name: \"\", creator: 0 },\r\n\t\t},\r\n\t};\r\n}*/\r\n\r\nexport class PublicSettingsModel implements IPublicSettingsModel {\r\n\tVersion: string = LLS_VERSION;\r\n\tGlobalModule: GlobalPublicSettingsModel = <GlobalPublicSettingsModel>{};\r\n\tMiscModule: BaseSettingsModel = <BaseSettingsModel>{ enabled: false };\r\n\tArtifactModule: ArtifactSettingsModel = <ArtifactSettingsModel>{\r\n\t\tropeOfTighteningEnabled: false,\r\n\t\tpublicRopeOfTighteningEnabled: false,\r\n\t\tropeOfTightening: <RopeOfTighteningModel>{},\r\n\t\tcatSpeechEnabled: false,\r\n\t\tpetsuitCollarSetting: <PetsuitCollarSettingsModel>{\r\n\t\t\tenabled: false,\r\n\t\t\tremoteAccess: false,\r\n\t\t\tlockable: false,\r\n\t\t\tspeechEnabled: false,\r\n\t\t\ttrigger: \"\",\r\n\t\t\tallowedMembers: \"\",\r\n\t\t\tallowSelfTrigger: false,\r\n\t\t\tlockOwner: false,\r\n\t\t\tlocked: false,\r\n\t\t\tbuckleColor: \"\",\r\n\t\t\tstrapColor: \"\",\r\n\t\t\tpetsuitCollar: <PetsuitCollarModel>{ name: \"\", creator: 0 },\r\n\t\t\tropeOfTighteningEnabled: false,\r\n\t\t\tpublicRopeOfTighteningEnabled: false,\r\n\t\t\tropeOfTightening: <RopeOfTighteningModel>{ name: \"\", creator: 0 },\r\n\t\t},\r\n\t};\r\n}\r\n","import { settingsSave } from \"utils\";\r\nimport { BaseSettingsModel } from \"./Models/base\";\r\nimport { SETTING_FUNC_NAMES, SETTING_FUNC_PREFIX, SETTING_NAME_PREFIX, setSubscreen } from \"./settingDefinitions\";\r\nimport { BaseModule } from \"base\";\r\nimport { drawTooltip, GUI } from \"./settingUtils\";\r\n\r\nexport interface Setting {\r\n\ttype: \"checkbox\" | \"text\" | \"number\" | \"label\" | \"colorpicker\";\r\n\tid: string;\r\n\tdisabled: boolean;\r\n\tlabel: string;\r\n\tdescription: string;\r\n\tsetting(): any;\r\n\tsetSetting(val: any): void;\r\n}\r\n\r\nexport abstract class GuiSubscreen {\r\n\tstatic START_X: number = 180;\r\n\tstatic START_Y: number = 205;\r\n\tstatic X_MOD: number = 950;\r\n\tstatic Y_MOD: number = 75;\r\n\treadonly module: BaseModule;\r\n\tprivate preferenceColorPick: string = \"\";\r\n\tprivate preferenceColorPickLeft: boolean = true;\r\n\r\n\tpublic get PreferenceColorPick(): string {\r\n\t\treturn this.preferenceColorPick;\r\n\t}\r\n\tpublic set PreferenceColorPick(value: string) {\r\n\t\tthis.preferenceColorPick = value;\r\n\t}\r\n\tpublic get PreferenceColorPickLeft(): boolean {\r\n\t\treturn this.preferenceColorPickLeft;\r\n\t}\r\n\tpublic set PreferenceColorPickLeft(value: boolean) {\r\n\t\tthis.preferenceColorPickLeft = value;\r\n\t}\r\n\r\n\r\n\r\n\tconstructor(module: BaseModule) {\r\n\t\tthis.module = module;\r\n\r\n\t\t// create each handler for a new preference subscreen\r\n\t\tSETTING_FUNC_NAMES.forEach((name) => {\r\n\t\t\tconst fName = SETTING_FUNC_PREFIX + SETTING_NAME_PREFIX + this.name + name;\r\n\t\t\tif (typeof (<any>this)[name] === \"function\" && typeof (<any>window)[fName] !== \"function\")\r\n\t\t\t\t(<any>window)[fName] = () => {\r\n\t\t\t\t\t(<any>this)[name]();\r\n\t\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tget name(): string {\r\n\t\treturn \"UNKNOWN\";\r\n\t}\r\n\r\n\t/*get icon(): string {\r\n\t\treturn ICONS.BOUND_GIRL;\r\n\t}*/\r\n\r\n\tget label(): string {\r\n\t\treturn \"UNDEFINED SETTING SCREEN\";\r\n\t}\r\n\r\n\tget hidden(): boolean {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget disabledReason(): string {\r\n\t\treturn \"Setting is unavailable.\";\r\n\t}\r\n\r\n\tget enabled(): boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget message(): string {\r\n\t\treturn PreferenceMessage;\r\n\t}\r\n\r\n\tset message(s: string) {\r\n\t\tPreferenceMessage = s;\r\n\t}\r\n\r\n\tget SubscreenName(): string {\r\n\t\treturn SETTING_NAME_PREFIX + this.constructor.name;\r\n\t}\r\n\r\n\tsetSubscreen(screen: GuiSubscreen | string | null) {\r\n\t\treturn setSubscreen(screen);\r\n\t}\r\n\r\n\tget settings(): BaseSettingsModel {\r\n\t\treturn this.module.settings as BaseSettingsModel;\r\n\t}\r\n\r\n\tget multipageStructure(): Setting[][] {\r\n\t\treturn [[]];\r\n\t}\r\n\r\n\tget structure(): Setting[] {\r\n\t\treturn this.multipageStructure[Math.min(PreferencePageCurrent - 1, this.multipageStructure.length - 1)];\r\n\t}\r\n\r\n\tget character(): Character {\r\n\t\t// Because we're initialized by that instance, it must already exist\r\n\t\treturn GUI.instance?.currentCharacter as Character;\r\n\t}\r\n\r\n\tgetYPos(ix: number) {\r\n\t\treturn GuiSubscreen.START_Y + GuiSubscreen.Y_MOD * (ix % 9);\r\n\t}\r\n\r\n\tgetXPos(ix: number) {\r\n\t\treturn GuiSubscreen.START_X + GuiSubscreen.X_MOD * Math.floor(ix / 9);\r\n\t}\r\n\r\n\tHideElements() {\r\n\t\tthis.multipageStructure.forEach((s, ix, arr) => {\r\n\t\t\tif (ix != PreferencePageCurrent - 1) {\r\n\t\t\t\ts.forEach((setting) => {\r\n\t\t\t\t\tif (setting.type == \"text\" || setting.type == \"number\" || setting.type == \"colorpicker\")\r\n\t\t\t\t\t\tthis.ElementHide(setting.id);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tLoad() {\r\n\t\tthis.multipageStructure.forEach((s) =>\r\n\t\t\ts.forEach((item) => {\r\n\t\t\t\tswitch (item.type) {\r\n\t\t\t\t\tcase \"text\":\r\n\t\t\t\t\t\tElementCreateInput(item.id, \"text\", item.setting(), \"255\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"number\":\r\n\t\t\t\t\t\tElementCreateInput(item.id, \"number\", item.setting(), \"255\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"colorpicker\":\r\n\t\t\t\t\t\tElementCreateInput(item.id, \"text\", item.setting(), \"7\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tRun() {\r\n\t\tvar prev = MainCanvas.textAlign;\r\n\t\tMainCanvas.textAlign = \"left\";\r\n\r\n\t\tDrawText(\r\n\t\t\t\"- LLS \" + this.name + \" -\",\r\n\t\t\tGuiSubscreen.START_X,\r\n\t\t\tGuiSubscreen.START_Y - GuiSubscreen.Y_MOD,\r\n\t\t\t\"Black\",\r\n\t\t\t\"#D7F6E9\"\r\n\t\t);\r\n\t\tDrawButton(1815, 75, 90, 90, \"\", \"White\", \"Icons/Exit.png\", \"LLS main menu\");\r\n\t\tif (this.multipageStructure.length > 1) {\r\n\t\t\tMainCanvas.textAlign = \"center\";\r\n\t\t\tPreferencePageChangeDraw(1595, 75, this.multipageStructure.length);\r\n\t\t\tMainCanvas.textAlign = \"left\";\r\n\t\t}\r\n\r\n\t\tthis.HideElements();\r\n\r\n\t\tthis.structure.forEach((item, ix, arr) => {\r\n\t\t\tif(this.PreferenceColorPick != \"\" && ((this.getXPos(ix) < 1000 && this.PreferenceColorPickLeft) || (this.getXPos(ix) > 1000 && !this.PreferenceColorPickLeft ))){ \r\n\t\t\t\tthis.ElementHide(item.id);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tswitch (item.type) {\r\n\t\t\t\tcase \"checkbox\":\r\n\t\t\t\t\tthis.DrawCheckbox(item.label, item.description, item.setting(), ix, item.disabled);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"text\":\r\n\t\t\t\tcase \"number\":\r\n\t\t\t\t\tthis.ElementPosition(item.id, item.label, item.description, ix, item.disabled);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"label\":\r\n\t\t\t\t\tthis.DrawLabel(item.label, item.description, ix);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"colorpicker\":\r\n\t\t\t\t\t//Position is moved more to the left in DrawColorPicker\r\n\t\t\t\t\tthis.ElementPosition(item.id, \"\", \"\", ix, item.disabled);\r\n\t\t\t\t\tthis.DrawColorPicker(item.id, item.label, item.description, item.setting(), ix, item.disabled);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tMainCanvas.textAlign = prev;\r\n\t}\r\n\r\n\tClick() {\r\n\t\tif (MouseIn(1815, 75, 90, 90)) return this.Exit();\r\n\t\t\r\n\t\tif (MouseIn(1595, 75, 200, 90)) this.preferenceColorPick = \"\";\r\n\t\tif (this.multipageStructure.length > 1) PreferencePageChangeClick(1595, 75, this.multipageStructure.length);\r\n\r\n\t\tthis.structure.forEach((item, ix, arr) => {\r\n\t\t\tswitch (item.type) {\r\n\t\t\t\tcase \"checkbox\":\r\n\t\t\t\t\tif (MouseIn(this.getXPos(ix) + 600, this.getYPos(ix) - 32, 64, 64) && !item.disabled) {\r\n\t\t\t\t\t\titem.setSetting(!item.setting());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"colorpicker\":\r\n\t\t\t\t\tif (MouseIn(this.getXPos(ix) + 600, this.getYPos(ix) - 32, 64, 64) && !item.disabled) {\r\n\t\t\t\t\t\tthis.PreferenceColorPick = this.PreferenceColorPick != \"\" ? \"\" : item.id;\r\n\t\t\t\t\t\tif (this.getXPos(ix) < 1000) {\r\n\t\t\t\t\t\t\tthis.PreferenceColorPickLeft = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.PreferenceColorPickLeft = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tExit() {\r\n\t\tthis.multipageStructure.forEach((s) =>\r\n\t\t\ts.forEach((item) => {\r\n\t\t\t\tswitch (item.type) {\r\n\t\t\t\t\tcase \"number\":\r\n\t\t\t\t\t\tif (CommonIsNumeric(ElementValue(item.id))) {\r\n\t\t\t\t\t\t\titem.setSetting(ElementValue(item.id));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tElementRemove(item.id);\r\n\t\t\t\t\tcase \"text\":\r\n\t\t\t\t\t\titem.setSetting(ElementValue(item.id));\r\n\t\t\t\t\t\tElementRemove(item.id);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"colorpicker\":\r\n\t\t\t\t\t\tif (CommonIsColor(ElementValue(item.id))) {\r\n\t\t\t\t\t\t\titem.setSetting(ElementValue(item.id));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tElementRemove(item.id);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.PreferenceColorPick = \"\";\r\n\r\n\t\tsetSubscreen(\"MainMenu\");\r\n\t\tsettingsSave(true);\r\n\t}\r\n\r\n\tUnload() {\r\n\t\t// Empty\r\n\t}\r\n\r\n\tonChange(source: number) {\r\n\t\t// Empty\r\n\t}\r\n\r\n\tTooltip(text: string) {\r\n\t\tdrawTooltip(300, 850, 1400, text, \"left\");\r\n\t}\r\n\r\n\tDrawCheckbox(label: string, description: string, value: boolean, order: number, disabled: boolean = false) {\r\n\t\tvar isHovering = MouseIn(this.getXPos(order), this.getYPos(order) - 32, 600, 64);\r\n\t\tDrawTextFit(label, this.getXPos(order), this.getYPos(order), 600, isHovering ? \"Red\" : \"Black\", \"Gray\");\r\n\t\tDrawCheckbox(this.getXPos(order) + 600, this.getYPos(order) - 32, 64, 64, \"\", value ?? false, disabled);\r\n\t\tif (isHovering) this.Tooltip(description);\r\n\t}\r\n\r\n\tDrawColorPicker(id: string, name: string, description: string, setting: string, order: number, disabled: boolean = false) {\r\n\t\tvar isHovering = MouseIn(this.getXPos(order), this.getYPos(order) - 32, 600, 64);\r\n\t\t//Label\r\n\t\tDrawTextFit(name, this.getXPos(order), this.getYPos(order), 300, isHovering ? \"Red\" : \"Black\", \"Gray\");\r\n\r\n\t\t//Color Textfield\r\n\t\tElementPosition(id, this.getXPos(order) + 500, this.getYPos(order), 200);\r\n\t\tvar color = \"\";\r\n\t\tif (CommonIsColor(ElementValue(id))) color = ElementValue(id);\r\n\t\telse color = setting;\r\n\t\tvar element = document.getElementById(id);\r\n\t\tif (!element) return;\r\n\t\telement.style.color = color;\r\n\t\tlet TextColorHSV = ColorPickerCSSToHSV(color);\r\n\t\tif (TextColorHSV.V > 0.4) {\r\n\t\t\telement.style.backgroundColor = \"#111111\";\r\n\t\t} else {\r\n\t\t\telement.style.backgroundColor = \"#FFFFFF\";\r\n\t\t}\r\n\r\n\t\tif (this.PreferenceColorPick == id) {\r\n\t\t\tif (this.getXPos(order) < 1000) {\r\n\t\t\t\tColorPickerDraw(\r\n\t\t\t\t\t1250,\r\n\t\t\t\t\t185,\r\n\t\t\t\t\t675,\r\n\t\t\t\t\t800,\r\n\t\t\t\t\t/** @type {HTMLInputElement} */ document.getElementById(id) as HTMLInputElement\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tColorPickerDraw(\r\n\t\t\t\t\t250,\r\n\t\t\t\t\t185,\r\n\t\t\t\t\t675,\r\n\t\t\t\t\t800,\r\n\t\t\t\t\t/** @type {HTMLInputElement} */ document.getElementById(id) as HTMLInputElement\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else if (this.PreferenceColorPick == \"\") ColorPickerHide();\r\n\r\n\t\t//Color Picker Button\r\n\t\tDrawButton(this.getXPos(order) + 600, this.getYPos(order) - 32, 64, 64, \"\", disabled ? \"#ebebe4\" : \"White\", \"Icons/Color.png\", \"\", disabled);\r\n\t\tif (isHovering) this.Tooltip(description);\r\n\t}\r\n\r\n\tElementHide(elementId: string) {\r\n\t\tElementPosition(elementId, -999, -999, 1, 1);\r\n\t}\r\n\r\n\tElementPosition(elementId: string, label: string, description: string, order: number, disabled: boolean = false) {\r\n\t\tvar isHovering = MouseIn(this.getXPos(order), this.getYPos(order) - 32, 600, 64);\r\n\t\tDrawTextFit(label, this.getXPos(order), this.getYPos(order), 600, isHovering ? \"Red\" : \"Black\", \"Gray\");\r\n\t\tElementPosition(elementId, this.getXPos(order) + 750, this.getYPos(order), 300);\r\n\t\tif (disabled) ElementSetAttribute(elementId, \"disabled\", \"true\");\r\n\t\telse {\r\n\t\t\tdocument.getElementById(elementId)?.removeAttribute(\"disabled\");\r\n\t\t}\r\n\t\tif (isHovering) this.Tooltip(description);\r\n\t}\r\n\r\n\tDrawLabel(name: string, description: string, order: number) {\r\n\t\tvar isHovering = MouseIn(this.getXPos(order), this.getYPos(order) - 32, 600, 64);\r\n\t\tDrawTextFit(name, this.getXPos(order), this.getYPos(order), 600, isHovering ? \"Red\" : \"Black\", \"Gray\");\r\n\t\tif (isHovering) this.Tooltip(description);\r\n\t}\r\n}\r\n","\r\nimport { GlobalSettingsModel } from \"./Models/base\";\r\nimport { GuiSubscreen, Setting } from \"./settingBase\";\r\n\r\nexport class GuiGlobal extends GuiSubscreen {\r\n\r\n\tget name(): string {\r\n\t\treturn \"General\";\r\n\t}\r\n\r\n\tget settings(): GlobalSettingsModel {\r\n        return super.settings as GlobalSettingsModel;\r\n    }\r\n\r\n\tget structure(): Setting[] {\r\n\t\treturn [\r\n\t\t\t<Setting>{\r\n\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\tlabel: \"Automatically resist orgasms:\",\r\n\t\t\t\tdescription: \"Enables the button to immediately resist orgasms.\",\r\n\t\t\t\tsetting: () => Player.LLS.MiscModule.orgasmSkip ?? false,\r\n\t\t\t\tsetSetting: (val) => Player.LLS.MiscModule.orgasmSkip = val\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tLoad(): void {\r\n\t\t// Load up module settings to ensure defaults..\r\n\t\tsuper.Load();\r\n\t}\r\n}","import { GuiSubscreen, Setting } from \"./settingBase\";\r\nimport { BaseSettingsModel } from \"./Models/base\";\r\nimport { getModule } from \"modules\";\r\nimport { CommandModule } from \"Modules/commands\";\r\n\r\nexport class GuiReset extends GuiSubscreen {\r\n\r\n\tget name(): string {\r\n\t\treturn \"Reset all LLS Data\";\r\n\t}\r\n    \r\n\tprivate allowedConfirmTime: number | null = 0;\r\n\r\n\tLoad() {\r\n\t\tthis.allowedConfirmTime = Date.now() + 5_000;\r\n\t\tsuper.Load();\r\n\t}\r\n\r\n\tRun() {\r\n\t\tMainCanvas.textAlign = \"center\";\r\n\r\n\t\tDrawText(`- Permanent reset of ALL LLS data -`, 1000, 125, \"Black\");\r\n\r\n\t\tDrawText(\"- Warning -\", 1000, 225, \"Black\", \"Black\");\r\n\t\tDrawText(\"If you confirm, all LLS data (including settings, overrides, and current states) will be permanently reset!\", 1000, 325, \"Black\");\r\n\r\n\t\t//DrawText(\"As part of the deletion process, the window will reload, logging you out of your account.\", 1000, 500, \"Gray\");\r\n\t\tDrawText(\"You will be able to continue using LLS, but all of your configuration will be reset to default!\", 1000, 550, \"Gray\");\r\n\r\n\t\tDrawText(\"This action cannot be undone!\", 1000, 625, \"Red\", \"Black\");\r\n\r\n\t\tif (this.allowedConfirmTime === null) {\r\n\t\t\tDrawText(\"Resetting...\", 1000, 720, \"Black\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst now = Date.now();\r\n\t\tif (now < this.allowedConfirmTime) {\r\n\t\t\tDrawButton(300, 720, 200, 80, `Confirm (${Math.floor((this.allowedConfirmTime - now) / 1000)})`, \"#ddd\", undefined, undefined, true);\r\n\t\t} else {\r\n\t\t\tDrawButton(300, 720, 200, 80, \"Confirm\", \"White\");\r\n\t\t}\r\n\r\n\t\tDrawButton(1520, 720, 200, 80, \"Cancel\", \"White\");\r\n\t}\r\n\r\n\tClick() {\r\n\t\tif (this.allowedConfirmTime === null) return;\r\n\r\n\t\tif (MouseIn(1520, 720, 200, 80)) return this.Exit();\r\n\r\n\t\tif (MouseIn(300, 720, 200, 80) && Date.now() >= this.allowedConfirmTime) return this.Confirm();\r\n\t}\r\n\r\n\tConfirm() {\r\n\t\tthis.allowedConfirmTime = null;\r\n\t\tgetModule<CommandModule>(\"CommandModule\")?.EmergencyRelease();\r\n\t\tthis.Exit();\r\n\t}\r\n}","import { getModule } from \"modules\";\r\nimport { GuiSubscreen } from \"./settingBase\";\r\nimport { GUI } from \"./settingUtils\";\r\nimport { GuiReset } from \"./reset\";\r\nimport { CoreModule } from \"Modules/core\";\r\n\r\nexport class MainMenu extends GuiSubscreen {\r\n\tsubscreens: GuiSubscreen[] = [];\r\n\r\n\tget name(): string {\r\n\t\treturn \"MainMenu\";\r\n\t}\r\n\r\n\tget enabled(): boolean {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget hidden(): boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconstructor(module: GUI) {\r\n\t\tsuper(module);\r\n\r\n\t\tthis.subscreens = module.subscreens;\r\n\t}\r\n\r\n\tonChange(source: number) {\r\n\t\tif (source === this.character.MemberNumber) {\r\n\t\t\tthis.Load();\r\n\t\t}\r\n\t}\r\n\r\n\tLoad(): void {\r\n\t\t// As that Load call was made automatically by BC (though PreferenceSubscreenList) we're not setup fully yet.\r\n\t\t// Set and bail out, as we're gonna get called again.\r\n\t\tif (!GUI.instance?.currentSubscreen) {\r\n\t\t\tthis.setSubscreen(this);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsuper.Load();\r\n\t}\r\n\r\n\tRun() {\r\n\t\tvar prev = MainCanvas.textAlign;\r\n\t\tMainCanvas.textAlign = \"left\";\r\n\t\tDrawText(`- Lillys Little Scripts ${LLS_VERSION} -`, GuiSubscreen.START_X, GuiSubscreen.START_Y - GuiSubscreen.Y_MOD, \"Black\", \"#D7F6E9\");\r\n\t\tDrawButton(1815, 75, 90, 90, \"\", \"White\", \"Icons/Exit.png\");\r\n\t\t\r\n\t\t\r\n\t\tMainCanvas.textAlign = \"center\";\r\n\t\tlet i = 0;\r\n\t\t//console.log(this.subscreens);\r\n\t\tfor (const screen of this.subscreens) {\r\n\t\t\tconst PX = Math.floor(i / 6);\r\n\t\t\tconst PY = i % 6;\r\n\r\n\t\t\tconst isDisabled = !screen.enabled;\r\n\r\n\t\t\t// Skip disabled screens for the time being\r\n\t\t\tif (screen.name == \"MainMenu\" || screen.hidden) continue;\r\n\r\n\t\t\tDrawButton(150 + 430 * PX, 190 + 120 * PY, 450, 90, \"\", isDisabled ? \"#ddd\" : \"White\", \"\", isDisabled ? \"Setting is deactivated\" : \"\", isDisabled);\r\n\t\t\t//DrawImageResize(screen.icon, 150 + 430 * PX + 10, 190 + 120 * PY + 10, 70, 70);\r\n\t\t\tMainCanvas.textAlign = \"left\";\r\n\t\t\tDrawTextFit(screen.name, 250 + 430 * PX, 235 + 120 * PY, 340, \"Black\");\r\n\t\t\tMainCanvas.textAlign = \"center\";\r\n\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tMainCanvas.textAlign = \"left\";\r\n\t\tDrawButton(1500, 620, 400, 80, \"\", \"#ffc9c9\", \"\", \"Emergency reset of LLS\");\t\t\r\n\t\tDrawImageResize(\"Icons/ServiceBell.png\", 1510, 630, 60, 60);\r\n        DrawTextFit(\"Reset\", 1580, 660, 320, \"Black\");\r\n\r\n\t\tMainCanvas.textAlign = prev;\r\n\t\r\n\t\t\r\n\r\n\t\tMainCanvas.textAlign = \"left\";\r\n\t\tDrawButton(1500, 620, 400, 80, \"\", \"#ffc9c9\", \"\", \"Emergency reset of LLS\");\t\t\r\n\t\tDrawImageResize(\"Icons/ServiceBell.png\", 1510, 630, 60, 60);\r\n        DrawTextFit(\"Reset\", 1580, 660, 320, \"Black\");\r\n\r\n\t\tMainCanvas.textAlign = prev;\r\n\t}\r\n\r\n\tClick() {\r\n\t\tif (MouseIn(1815, 75, 90, 90)) return this.Exit();\r\n\r\n\t\tlet i = 0\r\n\t\tfor (const screen of this.subscreens) {\r\n\t\t\tconst PX = Math.floor(i / 6);\r\n\t\t\tconst PY = i % 6;\r\n\r\n\t\t\tif (screen.name == \"MainMenu\" || screen.hidden) continue;\r\n\r\n\t\t\tif (MouseIn(150 + 430 * PX, 190 + 120 * PY, 450, 90) && screen.enabled) {\r\n\t\t\t\tthis.setSubscreen(screen);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ti++;\t\t\r\n\t\t}\r\n\r\n\t\tif (MouseIn(1500, 620, 400, 80))\r\n            this.setSubscreen(new GuiReset(getModule<CoreModule>(\"CoreModule\")));\r\n\t}\r\n\r\n\tExit(): void {\r\n\t\tthis.setSubscreen(null);\r\n\t}\r\n}","import { BaseModule } from \"../base\";\r\nimport { GuiSubscreen } from \"./settingBase\";\r\nimport { GuiGlobal } from \"./global\";\r\nimport { MainMenu } from \"./mainmenu\";\r\nimport { SETTING_NAME_PREFIX, Subscreen } from \"./settingDefinitions\";\r\nimport { modules } from \"modules\";\r\nimport { GlobalSettingsModel } from \"./Models/base\";\r\n\r\nexport class GUI extends BaseModule {\r\n\tstatic instance: GUI | null = null;\r\n\r\n\tprivate _subscreens: GuiSubscreen[];\r\n\tprivate _mainMenu: MainMenu;\r\n\tprivate _currentSubscreen: GuiSubscreen | null = null;\r\n\r\n\tget subscreens() : GuiSubscreen[] { return this._subscreens; }\r\n\r\n\tget mainMenu(): MainMenu {\r\n\t\treturn this._mainMenu;\r\n\t}\r\n\r\n\tget currentSubscreen(): GuiSubscreen | null {\r\n\t\treturn this._currentSubscreen;\r\n\t}\r\n\r\n\tset currentSubscreen(subscreen: GuiSubscreen | string | null) {\r\n\t\tif (this._currentSubscreen) {\r\n\t\t\tthis._currentSubscreen.Unload();\r\n\t\t}\r\n\t\tif (typeof subscreen === \"string\") {\r\n\t\t\tconst scr = this._subscreens?.find(s => s.name === subscreen);\r\n\t\t\tif (!scr) throw `Failed to find screen name ${subscreen}`;\r\n\t\t\tthis._currentSubscreen = scr;\r\n\t\t} else {\r\n\t\t\tthis._currentSubscreen = subscreen;\r\n\t\t}\r\n\r\n\t\t// Reset that first, in case it gets set in the screen's Load callback\r\n\t\tPreferenceMessage = \"\";\r\n\t\tPreferencePageCurrent = 1;\r\n\r\n\t\tlet subscreenName = \"\";\r\n\t\tif (this._currentSubscreen) {\r\n\t\t\tsubscreenName = SETTING_NAME_PREFIX + this._currentSubscreen?.name;\r\n\t\t\tthis._currentSubscreen.Load();\r\n\t\t}\r\n\r\n\t\t// Get BC to render the new screen\r\n\t\tPreferenceSubscreen = subscreenName;\r\n\t}\r\n\r\n\tget currentCharacter(): Character {\r\n\t\treturn Player;\r\n\t}\r\n\r\n\tget settingsScreen(): Subscreen | null {\r\n\t\treturn GuiGlobal;\r\n\t}\r\n\r\n\tget settings(): GlobalSettingsModel {\r\n\t\treturn super.settings as GlobalSettingsModel;\r\n\t}\r\n\r\n\tget settingsStorage(): string | null {\r\n\t\treturn \"GlobalModule\";\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tif (GUI.instance) {\r\n\t\t\tthrow new Error(\"Duplicate initialization\");\r\n\t\t}\r\n\r\n\t\tthis._mainMenu = new MainMenu(this);\r\n\t\tthis._subscreens = [\r\n\t\t\tthis._mainMenu\r\n\t\t];\r\n\r\n\t\tGUI.instance = this;\r\n\t}\r\n\r\n\tget defaultSettings(): GlobalSettingsModel {\r\n\t\treturn {\r\n\t\t\tenabled: true,\r\n\t\t};\r\n    }\r\n\r\n\tload(): void {\r\n\t\t// At that point all other modules have been initialized, build the list of their screens\r\n\t\tfor (const module of modules()) {\r\n\t\t\tif (!module.settingsScreen) continue;\r\n\r\n\t\t\tthis._subscreens.push(new module.settingsScreen(module));\r\n\t\t}\r\n\r\n\t\tthis._mainMenu.subscreens = this._subscreens;\r\n\t}\r\n}\r\n\r\nexport function drawTooltip(x: number, y: number, width: number, text: string, align: \"left\" | \"center\" | \"right\") {\r\n\tconst canvas = MainCanvas;\r\n\tconst bak = canvas.textAlign;\r\n\tcanvas.textAlign = align;\r\n\tcanvas.beginPath();\r\n\tcanvas.rect(x, y, width, 65);\r\n\tcanvas.fillStyle = \"#FFFF88\";\r\n\tcanvas.fillRect(x, y, width, 65);\r\n\tcanvas.fill();\r\n\tcanvas.lineWidth = 2;\r\n\tcanvas.strokeStyle = \"black\";\r\n\tcanvas.stroke();\r\n\tcanvas.closePath();\r\n\tDrawTextFit(\r\n\t\ttext,\r\n\t\talign === \"left\" ? x + 3 : x + width / 2,\r\n\t\ty + 33,\r\n\t\twidth - 6,\r\n\t\t\"black\"\r\n\t);\r\n\tcanvas.textAlign = bak;\r\n}\r\n\r\n","import { BaseModule } from \"base\";\r\nimport { GuiSubscreen } from \"./settingBase\";\r\nimport { GUI } from \"./settingUtils\";\r\n\r\nexport const SETTING_FUNC_PREFIX: string = \"PreferenceSubscreen\";\r\nexport const SETTING_NAME_PREFIX: string = \"LLS\";\r\nexport const SETTING_FUNC_NAMES: string[] = [\r\n    \"Load\",\r\n    \"Unload\",\r\n    \"Run\",\r\n    \"Click\",\r\n    \"Exit\"\r\n];\r\n\r\n\r\nexport enum ModuleCategory {\r\n    Core = -1,\r\n    Global = 0,\r\n    Cards = 1,\r\n    Crafts = 2,\r\n    Artifacts = 3,\r\n    RemoteUi = 90,\r\n    Misc = 99,\r\n    Commands = 100,\r\n}\r\n\r\nexport type Subscreen = (new (module: BaseModule) => GuiSubscreen);\r\n\r\nexport function getCurrentSubscreen(): GuiSubscreen | null {\r\n\treturn GUI.instance && GUI.instance.currentSubscreen;\r\n}\r\n\r\nexport function setSubscreen(subscreen: GuiSubscreen | string | null): GuiSubscreen | null {\r\n\tif (!GUI.instance) {\r\n\t\tthrow new Error(\"Attempt to set subscreen before init\");\r\n\t}\r\n\tGUI.instance.currentSubscreen = subscreen;\r\n\treturn GUI.instance.currentSubscreen;\r\n}","import { BaseModule } from \"base\";\r\nimport { getModule, modules } from \"modules\";\r\nimport { BaseSettingsModel, GlobalSettingsModel } from \"Settings/Models/base\";\r\nimport { IPublicSettingsModel, PublicSettingsModel, ISettingsModel } from \"Settings/Models/settings\";\r\nimport { ModuleCategory } from \"Settings/settingDefinitions\";\r\nimport {\r\n\tremoveAllHooksByModule,\r\n\thookFunction,\r\n\tsendLLSMessage,\r\n\tgetChatroomCharacter,\r\n\tsettingsSave,\r\n\tLLS_SendLocal,\r\n} from \"../utils\";\r\n\r\n// Core Module that can handle basic functionality like server handshakes etc.\r\n// Maybe can consolidate things like hypnosis/suffocation basic state handling too..\r\nexport class CoreModule extends BaseModule {\r\n\tget publicSettings(): IPublicSettingsModel {\r\n\t\tvar settings = new PublicSettingsModel();\r\n\t\tfor (const m of modules()) {\r\n\t\t\tvar moduleSettings = m.settings ?? <BaseSettingsModel>{ enabled: false };\r\n\t\t\tvar moduleSettingStorage = m.settingsStorage ?? \"\";\r\n\t\t\tif (Object.hasOwn(settings, moduleSettingStorage)) {\r\n\t\t\t\tvar publicModuleSetting = (<any>settings)[moduleSettingStorage];\r\n\t\t\t\tfor (const k of Object.keys(moduleSettings)) {\r\n\t\t\t\t\tif (Object.hasOwn(publicModuleSetting, k)) publicModuleSetting[k] = (<any>moduleSettings)[k];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn settings;\r\n\t}\r\n\r\n\tget settingsStorage(): string | null {\r\n\t\treturn \"GlobalModule\";\r\n\t}\r\n\r\n\tget settings(): GlobalSettingsModel {\r\n\t\treturn super.settings as GlobalSettingsModel;\r\n\t}\r\n\r\n\tget defaultSettings(): GlobalSettingsModel | null {\r\n\t\treturn <GlobalSettingsModel>{\r\n\t\t\tenabled: false,\r\n\t\t};\r\n\t}\r\n\r\n\tSendPublicPacket(replyRequested: boolean, type: LLSMessageModelType = \"init\") {\r\n\t\tsendLLSMessage(<LLSMessageModel>{\r\n\t\t\tversion: LLS_VERSION,\r\n\t\t\ttype: type,\r\n\t\t\tsettings: this.publicSettings,\r\n\t\t\ttarget: null,\r\n\t\t\treply: replyRequested,\r\n\t\t});\r\n\t}\r\n\r\n\tload(): void {\r\n\t\thookFunction(\r\n\t\t\t\"ChatRoomSync\",\r\n\t\t\t1,\r\n\t\t\t(args, next) => {\r\n\t\t\t\tthis.SendPublicPacket(true);\r\n\t\t\t\treturn next(args);\r\n\t\t\t},\r\n\t\t\tModuleCategory.Core\r\n\t\t);\r\n\r\n\t\thookFunction(\r\n\t\t\t\"ChatRoomMessage\",\r\n\t\t\t1,\r\n\t\t\t(args, next) => {\r\n\t\t\t\tthis.CheckForPublicPacket(args[0]);\r\n\t\t\t\treturn next(args);\r\n\t\t\t},\r\n\t\t\tModuleCategory.Core\r\n\t\t);\r\n\r\n\t\thookFunction(\"DialogClick\", 1, (args, next) => {\r\n\t\t\tnext(args);\r\n\t\t\tlet C = CharacterGetCurrent();\r\n\t\t\tif (!C) return;\r\n\t\t\t/*if (MouseIn(this.toggleSharedButton.x, this.toggleSharedButton.y, this.toggleSharedButton.width, this.toggleSharedButton.height) &&\r\n                DialogModeShowsInventory() && (DialogMenuMode === \"permissions\" || (Player.CanInteract() && !InventoryGroupIsBlocked(C, undefined, true)))) {\r\n                this.settings.seeSharedCrafts = !this.settings.seeSharedCrafts;\r\n                settingsSave();\r\n                DialogInventoryBuild(C, true, false);\r\n            }*/\r\n\t\t});\r\n\t}\r\n\r\n\t/*_drawShareToggleButton(X: number, Y: number, Width: number, Height: number) {\r\n        DrawButton(X, Y, Width, Height, \"\", this.settings.seeSharedCrafts ? \"White\" : \"Red\", \"\", \"Toggle Shared Crafts\", false);\r\n        DrawImageResize(\"Icons/Online.png\", X + 2, Y + 2, Width - 4, Height - 4);\r\n        DrawLineCorner(X + 2, Y + 2, X + Width - 2, Y + Height - 2, X + 2, Y + 2, 2, \"Black\");\r\n    }*/\r\n\r\n\trun(): void {\r\n\t\tif (ServerPlayerIsInChatRoom()) {\r\n\t\t}\r\n\t}\r\n\r\n\tunload(): void {\r\n\t\tremoveAllHooksByModule(ModuleCategory.Core);\r\n\t}\r\n\r\n\tCheckForPublicPacket(data: IChatRoomMessage) {\r\n\t\tif (\r\n\t\t\tdata.Sender != Player.MemberNumber &&\r\n\t\t\tdata.Type == \"Hidden\" &&\r\n\t\t\tdata.Content == \"LLSMsg\" &&\r\n\t\t\t!!data.Dictionary &&\r\n\t\t\t!!data.Dictionary[0]\r\n\t\t) {\r\n\t\t\tvar C = getChatroomCharacter(data.Sender) as OtherCharacter;\r\n\t\t\tvar msg = (<LLSMessageDictionaryEntry>data.Dictionary[0]).message;\r\n\t\t\tswitch (msg.type) {\r\n\t\t\t\tcase \"init\":\r\n\t\t\t\t\tthis.Init(C, msg);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"sync\":\r\n\t\t\t\t\tthis.Sync(C, msg);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"command\":\r\n\t\t\t\t\tthis.Command(C, msg);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tInit(Sender: OtherCharacter | null, msg: LLSMessageModel) {\r\n\t\tthis.Sync(Sender, msg);\r\n\t}\r\n\r\n\tSync(Sender: OtherCharacter | null, msg: LLSMessageModel) {\r\n\t\tif (!Sender) return;\r\n\t\tSender.LLS = Object.assign(Sender.LLS ?? {}, msg.settings ?? {});\r\n\t\tif (msg.reply) {\r\n\t\t\tthis.SendPublicPacket(false, msg.type);\r\n\t\t}\r\n\t}\r\n\r\n\tCommand(Sender: OtherCharacter | null, msg: LLSMessageModel) {\r\n\t\tif (!msg.command || msg.target != Player.MemberNumber) return;\r\n\t\tswitch (msg.command!.name) {\r\n\t\t\tcase \"grab\":\r\n\t\t\t\t//getModule<ActivityModule>(\"ActivityModule\")?.IncomingGrab(Sender!, msg.command.args.find(a => a.name == \"type\")?.value as GrabType);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"remote\":\r\n\t\t\t\tObject.assign(Player.LLS.ArtifactModule, msg.settings?.ArtifactModule);\r\n\t\t\t\tsettingsSave(true);\r\n\t\t\t\tLLS_SendLocal(`${!Sender ? \"Someone\" : CharacterNickname(Sender)} has accessed your remote settings!`);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n","import { BaseModule } from \"base\";\r\nimport { getModule, modules } from \"modules\";\r\nimport { ModuleCategory } from \"Settings/settingDefinitions\";\r\nimport { getCharacterNumber, getChatroomCharacter, LLS_SendLocal, removeAllHooksByModule, settingsSave } from \"../utils\";\r\nimport { CardsModule } from \"./cards\";\r\nimport { MiscModule } from \"./misc\";\r\n\r\n// Remote UI Module to handle configuration on other characters\r\n// Can be used to \"program\" another character's hypnosis, collar, etc.\r\n// Framework inspired from BCX\r\nexport class CommandModule extends BaseModule {\r\n    get cards(): CardsModule {\r\n        return getModule<CardsModule>(\"CardsModule\");\r\n    }\r\n    get misc(): MiscModule {\r\n        return getModule<MiscModule>(\"MiscModule\");\r\n    }\r\n\r\n    llsCommands: ICommand[] = [\r\n        {\r\n            Tag: \"help\",\r\n            Description: \": Opens the help for LLS commands\",\r\n            Action: (args, msg, parsed) => {\r\n                let helpLines: string[] = [];\r\n                this.orderedCommands.forEach((c) => {\r\n                    helpLines.push(`<br><b>/lls ${c.Tag}</b> ${c.Description}`);\r\n                });\r\n                let helpText = `<b>- Lillys Little Scrips -</b><br>${helpLines.join()}<br>`;\r\n                LLS_SendLocal(helpText);\r\n            },\r\n        },\r\n        {\r\n            Tag: \"cards\",\r\n            Description: \": Card deck commands\",\r\n            Action: (args, msg, parsed) => {\r\n                if (parsed.length != 0) {\r\n\t\t\t\t\tlet number = 1;\r\n\t\t\t\t\tlet target;\r\n                    switch (parsed[0].toLowerCase()) {\r\n                        case \"shuffle\":\r\n                            this.cards.shuffleDeck();\r\n                            break;\r\n                        case \"log\":\r\n                            this.cards.printLog(false);\r\n                            break;\r\n                        case \"deal\":\r\n\r\n                            if (/^[0-9]+$/.test(parsed[1])) {\r\n                                target = Number.parseInt(parsed[1], 10);\r\n                            } else {\r\n                                target = getCharacterNumber(parsed[1]);\r\n                            }\r\n\t\t\t\t\t\t\tif(parsed[2] && /^[0-9]+$/.test(parsed[2])) {\r\n\t\t\t\t\t\t\t\tnumber = Number.parseInt(parsed[2], 10);\r\n\t\t\t\t\t\t\t}\r\n                            this.cards.dealCards(target, number, false);\r\n                            break;\r\n                        case \"dealopen\":\r\n                            if (/^[0-9]+$/.test(parsed[1])) {\r\n                                target = Number.parseInt(parsed[1], 10);\r\n                            } else {\r\n                                target = getCharacterNumber(parsed[1]);\r\n                            }\r\n\t\t\t\t\t\t\tif(parsed[2] && /^[0-9]+$/.test(parsed[2])) {\r\n\t\t\t\t\t\t\t\tnumber = Number.parseInt(parsed[2], 10);\r\n\t\t\t\t\t\t\t}\r\n                            this.cards.dealCards(target, number, true);\r\n                            break;\r\n                        case \"log\":\r\n                            if (parsed[1] == \"public\") this.cards.printLog(false);\r\n                            else if (parsed[1] == \"private\") this.cards.printLog(true);\r\n                            else LLS_SendLocal(\"Wrong usage\");\r\n                            break;\r\n                    }\r\n                } else {\r\n                    let text: string =\r\n                        \"<br><b>/lls cards shuffle</b>: Shuffles the deck\" +\r\n                        \"<br><b>/lls cards deal (player) [number]</b>: Deals [number] cards to the player face down. No number means 1\" +\r\n                        \"<br><b>/lls cards dealopen (player) [number]</b>: Deals [number] cards to the player face up. No number means 1\" +\r\n                        \"<br><b>/lls cards log (private/public) </b>: Prints the log\" +\r\n                        \"<br><b>/lls cards show </b>: Deals an open card\";\r\n                    LLS_SendLocal(`<b>- Lillys Little Scrips -</b><br>Cards: ${text}<br>`);\r\n                }\r\n            },\r\n        },\r\n        {\r\n            Tag: \"visibility\",\r\n            Description: \": Change the visibility of your character\",\r\n            Action: (args, msg, parsed) => {\r\n                if (parsed.length == 1) {\r\n                    switch (parsed[0].toLowerCase()) {\r\n                        case \"hide\":\r\n                            this.misc.CharacterToggleVisibility(\"all\", Player);\r\n                            break;\r\n                        case \"clothes\":\r\n                            this.misc.CharacterToggleVisibility(\"bodyOnly\", Player);\r\n                            break;\r\n                        case \"show\":\r\n                            this.misc.CharacterToggleVisibility(\"visible\", Player);\r\n                            break;\r\n                    }\r\n                } else {\r\n                    let text: string =\r\n                        \"For these commands to work you need to enable 'hide' for 'self' in your Script-Settings\" +\r\n                        \"<br><b>/lls visibility hide</b>: Hides your character\" +\r\n                        \"<br><b>/lls visibility show</b>: Shows your character\" +\r\n                        \"<br><b>/lls visibility clothes</b>: Only shows your clothes\";\r\n                    LLS_SendLocal(`<b>- Lillys Little Scrips -</b><br>Visibility: ${text}<br>`);\r\n                }\r\n            },\r\n        },\r\n    ];\r\n\r\n    get orderedCommands(): ICommand[] {\r\n        var helpCommand = this.getSubcommand(\"help\")!;\r\n        var sorted = this.llsCommands.filter((c) => c.Tag != \"help\").sort((a, b) => a.Tag.localeCompare(b.Tag));\r\n        return [helpCommand, ...sorted];\r\n    }\r\n\r\n    get subCommands(): string[] {\r\n        return this.orderedCommands.map((c) => c.Tag);\r\n    }\r\n\r\n    getSubcommand(name: string): ICommand | undefined {\r\n        return this.llsCommands.find((c) => c.Tag.toLocaleLowerCase() == name.toLocaleLowerCase());\r\n    }\r\n\r\n    getCharacterByNicknameOrMemberNumber(target: string): Character | undefined {\r\n        target = target.toLocaleLowerCase();\r\n        let targetC: Character | undefined | null;\r\n        if (CommonIsNumeric(target)) targetC = getChatroomCharacter(target);\r\n        if (!targetC) {\r\n            targetC = ChatRoomCharacter.find((c) => CharacterNickname(c).toLocaleLowerCase() == target);\r\n        }\r\n        return targetC;\r\n    }\r\n\r\n    load(): void {\r\n        CommandCombine([\r\n            {\r\n                Tag: \"lls\",\r\n                Description: \"or <b>/lls help</b> : Opens the help for LLS commands\",\r\n                AutoComplete(parsed, low, msg) {},\r\n                Action: (args, msg, parsed) => {\r\n                    if (parsed.length <= 0) {\r\n                        this.getSubcommand(\"help\")!.Action!(\"\", msg, []);\r\n                    } else {\r\n                        var command = this.getSubcommand(parsed[0]);\r\n                        var subArgs = parsed.slice(1);\r\n                        command?.Action!(subArgs.join(\" \"), msg, subArgs);\r\n                    }\r\n                },\r\n            },\r\n        ]);\r\n    }\r\n\r\n    unload(): void {\r\n        removeAllHooksByModule(ModuleCategory.Commands);\r\n    }\r\n\r\n    EmergencyRelease() {\r\n        // Run Safeword action on all modules\r\n        for (const m of modules()) {\r\n            m.safeword();\r\n            if (!!m.settingsStorage) (<any>Player.LLS)[m.settingsStorage] = m.defaultSettings;\r\n        }\r\n        settingsSave(true);\r\n    }\r\n}\r\n","import { BaseModule } from \"base\";\r\nimport { SendMessage, shuffleArray, getCharacterName, SendActivityMessage, getCharacterNumber, LLS_SendLocal, removeAllHooksByModule } from \"../utils\";\r\nimport { ModuleCategory } from \"Settings/settingDefinitions\";\r\n\r\nlet cardDeck: [string, string][] = ([] = []);\r\nlet dealersLog: Map<number, [string, string][]> = new Map();\r\n\r\nexport class CardsModule extends BaseModule {\r\n    shuffleDeck() {\r\n        cardDeck = [];\r\n        dealersLog.clear();\r\n        const cardSuits = [\"♥\", \"♦\", \"♠\", \"♣\"];\r\n        const cardRanks = [\"A\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"J\", \"Q\", \"K\"];\r\n\r\n        cardSuits.forEach((suit) => {\r\n            cardRanks.forEach((rank) => {\r\n                cardDeck.push([rank, suit]);\r\n            });\r\n        });\r\n        shuffleArray(cardDeck);\r\n        SendActivityMessage(\r\n            `${Player.Nickname ? Player.Nickname : Player.Name} took the remaining ${\r\n                cardDeck.length\r\n            } cards from the deck and shuffled all cards for a new deck.`\r\n        );\r\n    }\r\n\r\n    dealCard(target: number | null = null, open: boolean = false) {\r\n        if (cardDeck.length === 0) {\r\n            this.shuffleDeck();\r\n        }\r\n        const card = cardDeck.pop();\r\n        if (!card) return;\r\n        if (target) {\r\n            if (open) {\r\n                SendActivityMessage(\r\n                    `${Player.Nickname ? Player.Nickname : Player.Name} dealt this card openly to ${getCharacterName(target, \"unknown\")}: ${card.join(\"\")}`\r\n                );\r\n                if (dealersLog.has(target)) {\r\n                    dealersLog.get(target)?.push(card);\r\n                } else {\r\n                    dealersLog.set(target, new Array(card));\r\n                }\r\n            } else {\r\n                SendActivityMessage(`${Player.Nickname ? Player.Nickname : Player.Name} dealt you this card face down: ${card.join(\"\")}`, target);\r\n                if (dealersLog.has(target)) {\r\n                    dealersLog.get(target)?.push(card);\r\n                } else {\r\n                    dealersLog.set(target, new Array(card));\r\n                }\r\n            }\r\n        } else {\r\n            SendActivityMessage(`${Player.Nickname ? Player.Nickname : Player.Name} openly drew this card face up: ${card.join(\"\")}`, target);\r\n        }\r\n    }\r\n\r\n    dealCards(targets: number|number[]|null, numberOfCards: number, open: boolean = false) {\r\n\t\tif(!targets) {\r\n\t\t\t\r\n\t\t}\r\n        if (typeof targets === \"number\") {\r\n            const target = targets;\r\n            for (let i = 0; i < numberOfCards; i++) {\r\n                this.dealCard(target, open);\r\n            }\r\n        }\r\n        if (Array.isArray(targets)) {\r\n            for (const target of targets ?? [null]) {\r\n                for (let i = 0; i < numberOfCards; i++) {\r\n                    this.dealCard(target, open);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    printLog(priv: boolean) {\r\n        let message: string = \"\";\r\n        for (let [key, value] of dealersLog) {\r\n            message = message.concat(\"\\n\", getCharacterName(key, \"unknown\"), \": \");\r\n            value\r\n                .sort((a, b) => {\r\n                    if (a[1] < b[1]) return -1;\r\n                    if (a[1] > b[1]) return 1;\r\n\r\n                    if (Number(a[0])) {\r\n                        if (Number(b[0])) {\r\n                            return Number(a[0]) - Number(b[0]);\r\n                        }\r\n                        return -1;\r\n                    } else if (Number(b[0])) {\r\n                        return 1;\r\n                    }\r\n                    if (a[0] == \"A\") {\r\n                        return 1;\r\n                    } else if (b[0] == \"A\") {\r\n                        return -1;\r\n                    }\r\n                    if (a[0] == \"K\") {\r\n                        return 1;\r\n                    } else if (b[0] == \"K\") {\r\n                        return -1;\r\n                    }\r\n                    if (a[0] == \"Q\") {\r\n                        return 1;\r\n                    } else if (b[0] == \"Q\") {\r\n                        return -1;\r\n                    }\r\n                    if (a[0] == \"J\") {\r\n                        return 1;\r\n                    } else if (b[0] == \"J\") {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                })\r\n                .forEach((e) => (message += e.join(\"\") + \", \"));\r\n            message = message.slice(0, -2);\r\n        }\r\n        if (priv) {\r\n            LLS_SendLocal(message);\r\n        } else {\r\n            SendMessage(message);\r\n        }\r\n    }\r\n\r\n    unload(): void {\r\n        removeAllHooksByModule(ModuleCategory.Commands);\r\n    }\r\n}\r\n","import { BaseModule } from \"base\";\r\nimport { ModuleCategory } from \"Settings/settingDefinitions\";\r\nimport { hookFunction, removeAllHooksByModule } from \"utils\";\r\n\r\n\r\nexport class CraftsModule extends BaseModule {\r\n    private: boolean = false;\r\n    load(): void {\r\n        hookFunction(\"CraftingRun\", 1, (args, next) => {\r\n            next(args)\r\n            const C = Player;\r\n            if(!!C && C.IsPlayer() && !!C.Crafting && CraftingMode == \"Slot\"){\r\n                let craft: CraftingItem | null = null;\r\n                for(let i = CraftingOffset; i < CraftingOffset + 20; i++){\r\n                    craft = C.Crafting[i];\r\n                    if(craft){\r\n                        break;\r\n                    }\r\n                }\r\n                if(craft && craft?.Private){\r\n                    this.private = true;\r\n                    DrawButton(15, 15, 64, 64, \"\", \"White\", \"Icons/Checked.png\", \"Whole page is private\");\r\n                }else{\r\n                    this.private = false;\r\n                    DrawButton(15, 15, 64, 64, \"\", \"White\", \"\", \"Whole page is private\");\r\n                }\r\n            }\r\n        }, ModuleCategory.Crafts);\r\n\r\n        hookFunction(\"CraftingClick\", 1, (args, next) => {\r\n            next(args)\r\n            const C = Player;\r\n            if(!!C && C.IsPlayer() && !!C.Crafting && CraftingMode == \"Slot\"){\r\n                if(MouseIn(15, 15, 64, 64)){\r\n                    this.private = !this.private;\r\n                for(let i = CraftingOffset; i < CraftingOffset + 20; i++){\r\n                    const craft = C.Crafting[i];\r\n                    if(craft){\r\n                        craft.Private = this.private;\r\n                    }\r\n                }\r\n            }\r\n                \r\n            }\r\n        }, ModuleCategory.Crafts);\r\n    }\r\n\r\n\tunload(): void {\r\n        removeAllHooksByModule(ModuleCategory.Commands);\r\n    }\r\n}\r\n","import { MiscSettingsModel } from \"Settings/Models/base\";\r\nimport { BaseModule } from \"base\";\r\nimport { hookFunction } from \"utils\";\r\n\r\nexport class MiscModule extends BaseModule {\r\n\tget settings(): MiscSettingsModel {\r\n\t\treturn super.settings as MiscSettingsModel;\r\n\t}\r\n\r\n\tget defaultSettings(): MiscSettingsModel | null {\r\n\t\treturn <MiscSettingsModel>{\r\n\t\t\torgasmSkip: false,\r\n\t\t};\r\n\t}\r\n\r\n\tsafeword(): void {}\r\n\r\n\tload(): void {\r\n\t\t// To draw the button for orgasm resist\r\n\t\thookFunction(\"ChatRoomRun\", 1, (args, next) => {\r\n\t\t\tnext(args);\r\n\t\t\tif (this.settings.orgasmSkip) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tPlayer.ArousalSettings != null &&\r\n\t\t\t\t\tPlayer.ArousalSettings.Active != null &&\r\n\t\t\t\t\tPlayer.ArousalSettings.Active != \"Inactive\" &&\r\n\t\t\t\t\tPlayer.ArousalSettings.Active != \"NoMeter\"\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tPlayer.ArousalSettings.OrgasmTimer != null &&\r\n\t\t\t\t\t\ttypeof Player.ArousalSettings.OrgasmTimer === \"number\" &&\r\n\t\t\t\t\t\t!isNaN(Player.ArousalSettings.OrgasmTimer) &&\r\n\t\t\t\t\t\tPlayer.ArousalSettings.OrgasmTimer > 0\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tif (Player.ArousalSettings.OrgasmStage == 1) DrawButton(10, 10, 250, 64, \"Autoresist\", \"White\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//To click the button for orgasm resist\r\n\t\thookFunction(\"ChatRoomClick\", 1, (args, next) => {\r\n\t\t\tnext(args);\r\n\t\t\tif (this.settings.orgasmSkip) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tPlayer.ArousalSettings != null &&\r\n\t\t\t\t\tPlayer.ArousalSettings.OrgasmTimer != null &&\r\n\t\t\t\t\ttypeof Player.ArousalSettings.OrgasmTimer === \"number\" &&\r\n\t\t\t\t\t!isNaN(Player.ArousalSettings.OrgasmTimer) &&\r\n\t\t\t\t\tPlayer.ArousalSettings.OrgasmTimer > 0\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (MouseX >= 10 && MouseX <= 260 && MouseY >= 10 && MouseY <= 74 && Player.ArousalSettings.OrgasmStage == 1) {\r\n\t\t\t\t\t\tActivityOrgasmGameGenerate(ActivityOrgasmGameDifficulty + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tCharacterToggleVisibility(mode: String, C: OtherCharacter | PlayerCharacter) {\r\n\t\tlet script = InventoryWear(C, \"Script\", \"ItemScript\");\r\n\t\t\r\n\t\tif(!script) return;\r\n\t\tscript.Property = script.Property || {};\r\n\t\tif (mode === \"bodyOnly\") {\r\n\t\t\tscript.Property.Hide = AssetGroup\r\n\t\t\t\t.filter(g => g.Category === \"Appearance\" && !g.Clothing && ![\"Height\", \"Emoticon\", \"Pronouns\"]\r\n\t\t\t\t.includes(g.Name)).map(g => g.Name);\r\n\t\t} else if (mode === \"all\") { \r\n\t\t\tscript.Property.Hide = AssetGroup.map(g => g.Name).filter(gn => gn !== \"ItemScript\")\r\n\t\t} else {\r\n\t\t\tInventoryRemove(C, \"ItemScript\", true);\r\n\t\t}\r\n\t\r\n\t\tCharacterScriptRefresh(C);\r\n   }\r\n\r\n\tunload(): void {}\r\n}\r\n","import { settingsSave } from \"utils\";\r\nimport { ArtifactSettingsModel, PetsuitCollarModel } from \"./Models/artifacts\";\r\nimport { GuiSubscreen, Setting } from \"./settingBase\";\r\nimport { getModule } from \"modules\";\r\nimport { MiscModule } from \"Modules/misc\";\r\n\r\nexport class GuiArtifact extends GuiSubscreen {\r\n\tget name(): string {\r\n\t\treturn \"Artifacts\";\r\n\t}\r\n\r\n\tget icon(): string {\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\tget settings(): ArtifactSettingsModel {\r\n\t\treturn super.settings as ArtifactSettingsModel;\r\n\t}\r\n\r\n\tget multipageStructure(): Setting[][] {\r\n\t\treturn [\r\n\t\t\t[\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Enable Petsuit Collar:\",\r\n\t\t\t\t\tdescription: \"Enables petsuit collar features.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.enabled ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.enabled = val),\r\n\t\t\t\t\tdisabled: this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"colorpicker\",\r\n\t\t\t\t\tid: \"petsuitCollar_buckleColor\",\r\n\t\t\t\t\tlabel: \"Petsuit Buckle Color:\",\r\n\t\t\t\t\tdescription: \"Sets the color of the buckles on the petsuit.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.buckleColor ?? \"#5AC5EE\",\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.buckleColor = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"colorpicker\",\r\n\t\t\t\t\tid: \"petsuitCollar_strapColor\",\r\n\t\t\t\t\tlabel: \"Petsuit Strap Color:\",\r\n\t\t\t\t\tdescription: \"Sets the color of the straps on the petsuit.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.strapColor ?? \"#2C2C2C\",\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.strapColor = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Lock Owner:\",\r\n\t\t\t\t\tdescription: \"Only allows the person that locked the collar to trigger it.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.lockOwner ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.lockOwner = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\tid: \"petsuitCollar_allowedMembers\",\r\n\t\t\t\t\tlabel: \"Allowed Member IDs:\",\r\n\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\"A list of member IDs seperated by a comma, who are allowed to use the collar.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.allowedMembers ?? \"\",\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.allowedMembers = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Enable Voice Commands:\",\r\n\t\t\t\t\tdescription: \"Enables voice commands for the petsuit collar.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.speechEnabled ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.speechEnabled = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\tid: \"petsuitCollar_trigger\",\r\n\t\t\t\t\tlabel: \"Trigger:\",\r\n\t\t\t\t\tdescription: \"Sets the trigger word/sentence for the petsuit collar.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.trigger ?? \"\",\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.trigger = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.speechEnabled || !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Allow Self-Speechtrigger:\",\r\n\t\t\t\t\tdescription: \"Allows the wearer of the collar to trigger the speech commands.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.allowSelfTrigger ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.allowSelfTrigger = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.speechEnabled || !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Remote Access:\",\r\n\t\t\t\t\tdescription: \"Allows other users to change the settings.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.remoteAccess ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.remoteAccess = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Lockable:\",\r\n\t\t\t\t\tdescription: \"Allows other users to lock you out of all the settings.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.lockable ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.lockable = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Catmask speech:\",\r\n\t\t\t\t\tdescription: \"Forces the wearer to speek like a cat when wearing a cat mask.\",\r\n\t\t\t\t\tsetting: () => this.settings.catSpeechEnabled ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.catSpeechEnabled = val),\r\n\t\t\t\t},\t\t\t\t\r\n\t\t\t]\r\n\t\t];\r\n\t}\r\n\r\n\tRun(): void {\r\n\t\tsuper.Run();\r\n\t\tlet buttonPos = this.structure.length;\r\n\t\tif(super.PreferenceColorPick != \"\" && ((super.PreferenceColorPickLeft && this.getXPos(buttonPos) < 1000) || (!super.PreferenceColorPickLeft && this.getXPos(buttonPos) > 1000)))\r\n\t\t\treturn;\r\n\t\telse if (PreferencePageCurrent == 1) {\r\n\t\t\tlet prev = MainCanvas.textAlign;\r\n\r\n\t\t\tMainCanvas.textAlign = \"left\";\r\n\t\t\tlet updateDisabled = !this.settings.petsuitCollarSetting.enabled || this.settings.petsuitCollarSetting.locked;\r\n\t\t\tDrawText(\r\n\t\t\t\t\"Update Collar:\",\r\n\t\t\t\tthis.getXPos(buttonPos),\r\n\t\t\t\tthis.getYPos(buttonPos),\r\n\t\t\t\tupdateDisabled ? \"Gray\" : \"Black\",\r\n\t\t\t\t\"Gray\"\r\n\t\t\t);\r\n\t\t\tMainCanvas.textAlign = \"center\";\r\n\t\t\tDrawButton(\r\n\t\t\t\tthis.getXPos(buttonPos) + 464,\r\n\t\t\t\tthis.getYPos(buttonPos) - 32,\r\n\t\t\t\t200,\r\n\t\t\t\t64,\r\n\t\t\t\t\"Update\",\r\n\t\t\t\tupdateDisabled ? \"#CCCCCC\" : \"White\",\r\n\t\t\t\tundefined,\r\n\t\t\t\tupdateDisabled ? \"\" : \"Update Collar to Current\",\r\n\t\t\t\tupdateDisabled\r\n\t\t\t);\r\n\r\n\t\t\tMainCanvas.textAlign = \"left\";\r\n\t\t\tif (!!this.settings.petsuitCollarSetting.petsuitCollar) {\r\n\t\t\t\tDrawText(\r\n\t\t\t\t\t\"Current Name: \" + this.settings.petsuitCollarSetting.petsuitCollar.name,\r\n\t\t\t\t\tthis.getXPos(buttonPos),\r\n\t\t\t\t\tthis.getYPos(buttonPos) + 60,\r\n\t\t\t\t\t\"Gray\",\r\n\t\t\t\t\t\"Gray\"\r\n\t\t\t\t);\r\n\t\t\t\tif (!!this.settings.petsuitCollarSetting.petsuitCollar.creator && this.settings.petsuitCollarSetting.petsuitCollar.creator > 0)\r\n\t\t\t\t\tDrawText(\r\n\t\t\t\t\t\t\"Current Crafter: \" + this.settings.petsuitCollarSetting.petsuitCollar.creator,\r\n\t\t\t\t\t\tthis.getXPos(buttonPos),\r\n\t\t\t\t\t\tthis.getYPos(buttonPos) + 110,\r\n\t\t\t\t\t\t\"Gray\",\r\n\t\t\t\t\t\t\"Gray\"\r\n\t\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tMainCanvas.textAlign = prev;\r\n\t\t}\r\n\t}\r\n\r\n\tClick(): void {\r\n\t\tsuper.Click();\r\n\r\n\t\tif (PreferencePageCurrent == 1) {\r\n\t\t\tif (this.settings.petsuitCollarSetting.enabled && !this.settings.petsuitCollarSetting.locked) {\r\n\t\t\t\t// Update Collar Button\r\n\t\t\t\tlet buttonPos = this.structure.length;\r\n\t\t\t\tif (MouseIn(this.getXPos(buttonPos) + 464, this.getYPos(buttonPos) - 32, 200, 64)) {\r\n\t\t\t\t\tvar collar = InventoryGet(Player, \"ItemNeck\");\r\n\t\t\t\t\tif (!collar) {\r\n\t\t\t\t\t\tthis.message = \"No Collar Equipped\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.message = \"Collar updated\";\r\n\t\t\t\t\t\tthis.settings.petsuitCollarSetting.petsuitCollar = <PetsuitCollarModel>{\r\n\t\t\t\t\t\t\tname: collar.Craft?.Name ?? collar.Asset.Name,\r\n\t\t\t\t\t\t\tcreator: collar.Craft?.MemberNumber ?? 0,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tExit(): void {\r\n\t\tsuper.Exit();\r\n\t}\r\n\r\n\tLoad(): void {\r\n\t\t// Load up module settings to ensure defaults..\r\n\t\tgetModule<MiscModule>(\"MiscModule\")?.settings;\r\n\t\tsuper.Load();\r\n\t}\r\n}\r\n","import { BaseModule } from \"base\";\r\nimport { GuiArtifact } from \"Settings/artifacts\";\r\nimport { ArtifactSettingsModel, PetsuitCollarModel, RopeOfTighteningModel } from \"Settings/Models/artifacts\";\r\nimport { ModuleCategory, Subscreen } from \"Settings/settingDefinitions\";\r\nimport { BC_ItemsToItemBundles, BC_ItemToItemBundle, GetDelimitedList, isPhraseInString, lockItem, OnActivity, OnChat, OnSentMessage, OnWhisper, removeAllHooksByModule, SendAction } from \"utils\";\r\nimport lzString from \"lz-string\";\r\n\r\nlet petsuitActivated = false;\r\nlet clothesSafe: string = \"\";\r\nlet disallowedItemsPetsuit: string[] = [\r\n    \"Bib\",\r\n    \"LargeBelt\",\r\n    \"Camera1\",\r\n    \"FrillyApron\",\r\n    \"FurBolero\",\r\n    \"LeatherStraps\",\r\n    \"Scarf\",\r\n    \"StudentOutfit3Bow1\",\r\n    \"StudentOutfit3Bow2\",\r\n    \"StudentOutfit3Bow3\",\r\n    \"StudentOutfit3Scarf\",\r\n];\r\n\r\nexport class ArtifactModule extends BaseModule {\r\n    get settingsStorage(): string | null {\r\n        return \"ArtifactModule\";\r\n    }\r\n\r\n    get settings(): ArtifactSettingsModel {\r\n        return super.settings as ArtifactSettingsModel;\r\n    }\r\n\r\n    get defaultSettings(): ArtifactSettingsModel | null {\r\n        return <ArtifactSettingsModel>{\r\n            ropeOfTighteningEnabled: false,\r\n            publicRopeOfTighteningEnabled: false,\r\n            ropeOfTightening: <RopeOfTighteningModel>{},\r\n            catSpeechEnabled: false,\r\n            petsuitCollarSetting: {\r\n                enabled: false,\r\n                remoteAccess: false,\r\n                lockable: false,\r\n                speechEnabled: false,\r\n                trigger: \"\",\r\n                allowedMembers: \"\",\r\n                allowSelfTrigger: false,\r\n                lockOwner: false,\r\n                locked: false,\r\n                buckleColor: \"#5AC5EE\",\r\n                strapColor: \"#2C2C2C\",\r\n                petsuitCollar: <PetsuitCollarModel>{ name: \"\", creator: 0 },\r\n            },\r\n        };\r\n    }\r\n\r\n    get settingsScreen(): Subscreen | null {\r\n        return GuiArtifact;\r\n    }\r\n\r\n    load(): void {\r\n        OnChat(1, ModuleCategory.Artifacts, (data, sender, msg, metadata) => {\r\n            let collarSettings = Player.LLS?.ArtifactModule;\r\n            if (!collarSettings || !collarSettings.petsuitCollarSetting.enabled || !collarSettings.petsuitCollarSetting.speechEnabled) return;\r\n\r\n            if (isPhraseInString(msg.toLowerCase(), collarSettings.petsuitCollarSetting.trigger.toLowerCase()) && this.WearingPetsuitCollar(Player)) {\r\n                if (sender?.IsPlayer() && !collarSettings.petsuitCollarSetting.allowSelfTrigger) return;\r\n                else if (sender?.IsPlayer()) this.petsuitCollarToggle(Player);\r\n                else if (this.AllowedPetsuitCollarMember(sender)) {\r\n                    this.petsuitCollarToggle(Player);\r\n                }\r\n            }\r\n        });\r\n\r\n        OnWhisper(10, ModuleCategory.Artifacts, (data, sender, msg, metadata) => {\r\n            let collarSettings = Player.LLS?.ArtifactModule;\r\n            if (!collarSettings || !collarSettings.petsuitCollarSetting.enabled) return;\r\n            else if (sender?.IsPlayer() && petsuitActivated) return;\r\n            else if (\r\n                msg.toLowerCase().startsWith(\"!petsuitcollar\") &&\r\n                (this.AllowedPetsuitCollarMember(sender) || sender?.IsPlayer) &&\r\n                this.WearingPetsuitCollar(Player)\r\n            ) {\r\n                this.petsuitCollarToggle(Player);\r\n                return \"skipBCX\";\r\n            }\r\n            return;\r\n        });\r\n\r\n        OnActivity(10, ModuleCategory.Artifacts, (data, sender, msg, metadata) => {\r\n            if (msg == \"ChatSelf-ItemArms-StruggleArms\" && sender) {\r\n                this.ropeOfTighteningAction(sender.IsPlayer() ? Player : (sender as OtherCharacter));\r\n            }\r\n        });\r\n\r\n        OnSentMessage(10, ModuleCategory.Artifacts, (data, sender, msg, metadata) => {        \r\n            if(data.Type === \"Chat\"){\r\n                sender = sender ? sender : Player;\r\n                this.CatSpeech(data);\r\n            }\r\n            return;\r\n        });\r\n    }\r\n\r\n    CatSpeech(data: any) {\r\n        let catSpeech = Player.LLS?.ArtifactModule?.catSpeechEnabled;\r\n        if(!catSpeech) return;\r\n        if(!this.WearingCatSpeechMask(Player)) return;\r\n        let message: string[] = data.Content.split(\" \");\r\n        \r\n        data.Content = data.Content.replace(/\\b\\S+\\b/g, (str: string | any[]) => {\r\n            if(str.length <= 3) return \"mew\";\r\n            else{\r\n                let length = str.length - 3;\r\n                return \"m\" + \"e\".repeat(length) + \"ow\";\r\n            }\r\n        });\r\n        return;\r\n    }\r\n\r\n    WearingCatSpeechMask(C: OtherCharacter | PlayerCharacter) {\r\n        var gag1 = InventoryGet(C, \"ItemMouth\");\r\n        var gag2 = InventoryGet(C, \"ItemMouth2\");\r\n        var gag3 = InventoryGet(C, \"ItemMouth3\");\r\n        if(gag1 && (gag1.Asset.Name == \"KittyHarnessPanelGag\" || gag1.Asset.Name == \"KittyGag\" || gag1.Asset.Name == \"KittyMuzzleGag\")) return true;\r\n        else if(gag2 && (gag2.Asset.Name == \"KittyHarnessPanelGag\" || gag2.Asset.Name == \"KittyGag\" || gag2.Asset.Name == \"KittyMuzzleGag\")) return true;\r\n        else if(gag3 && (gag3.Asset.Name == \"KittyHarnessPanelGag\" || gag3.Asset.Name == \"KittyGag\" || gag3.Asset.Name == \"KittyMuzzleGag\")) return true;\r\n        return false;\r\n    }\r\n\r\n    WearingPetsuitCollar(C: OtherCharacter | PlayerCharacter) {\r\n        var collar = InventoryGet(C, \"ItemNeck\");\r\n        let collarSettings = C.LLS?.ArtifactModule;\r\n        if (!collar || !collarSettings || !collarSettings.petsuitCollarSetting.enabled) return false;\r\n\r\n        if (!collarSettings || !collarSettings.petsuitCollarSetting.petsuitCollar.name) return true;\r\n\r\n        // If configured collar is not crafted, let any inherited collar work.\r\n        if (!collarSettings.petsuitCollarSetting.petsuitCollar.creator) {\r\n            return collar?.Asset.Name == collarSettings.petsuitCollarSetting.petsuitCollar.name;\r\n        } else {\r\n            var collarName = collar?.Craft?.Name ?? collar?.Asset.Name ?? \"\";\r\n            var collarCreator = collar?.Craft?.MemberNumber ?? -1;\r\n            return (\r\n                collarName == collarSettings.petsuitCollarSetting.petsuitCollar.name &&\r\n                collarCreator == collarSettings.petsuitCollarSetting.petsuitCollar.creator\r\n            );\r\n        }\r\n    }\r\n\r\n    ropeOfTighteningAction(C: OtherCharacter | PlayerCharacter): void {\r\n        var rope = InventoryGet(C, \"ItemArms\");\r\n        let ropeSettings = C.LLS?.ArtifactModule;\r\n        return;\r\n\r\n        if (!ropeSettings || !ropeSettings.ropeOfTightening.name) return;\r\n\r\n        // If configured rope is not crafted, let any inherited rope work.\r\n        if (!ropeSettings.ropeOfTightening.creator) {\r\n            SendAction(\"The rope around %NAME%'s arms tightens by itself, holding %POSSESSIVE% arms in place.\");\r\n            return;\r\n        } else {\r\n            var ropeName = rope?.Craft?.Name ?? rope?.Asset.Name ?? \"\";\r\n            var ropeCreator = rope?.Craft?.MemberNumber ?? -1;\r\n            if (ropeName == ropeSettings.ropeOfTightening.name && ropeCreator == ropeSettings.ropeOfTightening.creator) {\r\n                SendAction(\"The rope around %NAME%'s arms tightens by itself, holding %POSSESSIVE% arms in place.\");\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    petsuitCollarToggle(C: OtherCharacter | PlayerCharacter): void {\r\n        if (petsuitActivated) {\r\n            this.petsuitCollarDeactivate(C);\r\n        } else {\r\n            this.petsuitCollarActivate(C);\r\n        }\r\n    }\r\n\r\n    petsuitCollarActivate(C: OtherCharacter | PlayerCharacter): void {\r\n        let collarSettings = C.LLS?.ArtifactModule;\r\n        let buckleColor = collarSettings?.petsuitCollarSetting.buckleColor ?? \"#5AC5EE\";\r\n        let strapColor = collarSettings?.petsuitCollarSetting.strapColor ?? \"#2C2C2C\";\r\n\r\n        if (!buckleColor.startsWith(\"#\")) buckleColor = \"#\" + buckleColor;\r\n        if (!strapColor.startsWith(\"#\")) strapColor = \"#\" + strapColor;\r\n        InventoryWear(C, \"ShinyPetSuit\", \"ItemArms\", [\"#3A3A3A\", \"Default\", strapColor, buckleColor, \"Default\"], 1000, C.MemberNumber, {\r\n            Item: \"ShinyPetSuit\",\r\n            ItemProperty: {},\r\n            Property: \"Comfy\",\r\n            Lock: \"\",\r\n            Name: \"Pet Collar Petsuit\",\r\n            Description: `A Petsuit which has extended from the collar to cover the entire body. Whisper \\\"!petsuitcollar\\\" to ${\r\n                C.Nickname == \"\" ? C.Name : C.Nickname\r\n            } to deactivate.`,\r\n            Color: \"#3A3A3A,Default,#2C2C2C,#5AC5EE,Default\",\r\n            Private: true,\r\n            Type: \"Closed\",\r\n            OverridePriority: 532328,\r\n            MemberNumber: C.MemberNumber,\r\n            MemberName: C.Name,\r\n            TypeRecord: {\r\n                typed: 1,\r\n            },\r\n        });\r\n        var suit = InventoryGet(C, \"ItemArms\");\r\n        if (suit && suit.Property && suit.Property.TypeRecord) suit.Property.TypeRecord.typed = 1;\r\n        //if(suit && suit.Property) suit.Property.Hide = [\"Bra\", \"Panties\", \"ItemNipples\",\"ItemNipplesPiercings\", \"ItemBreasts\", \"Socks\", \"Suit\", \"SuitLower\", \"SocksLeft\", \"SocksRight\"];\r\n\t\t\r\n        clothesSafe = LZString.compressToBase64(JSON.stringify(BC_ItemsToItemBundles(C.Appearance)));\r\n\r\n\t\tlet accessory = InventoryGet(C, \"ClothAccessory\");\r\n\t\tlet socksLeft = InventoryGet(C, \"SocksLeft\");\r\n\t\tlet socksRight = InventoryGet(C, \"SocksRight\");\r\n\t\t\r\n\t\tif (accessory && disallowedItemsPetsuit.indexOf(accessory.Asset.Name) != -1) {\r\n\t\t\tInventoryRemove(C, \"ClothAccessory\");\r\n\t\t}\r\n\t\tif (socksLeft) {\r\n\t\t\tInventoryRemove(C, \"SocksLeft\");\r\n\t\t}\r\n\t\tif (socksRight) {\r\n\t\t\tInventoryRemove(C, \"SocksRight\");\r\n\t\t}\r\n\r\n        lockItem(C, InventoryGet(C, \"ItemArms\"), \"PasswordPadlock\");\r\n        ChatRoomCharacterUpdate(C);\r\n\r\n        SendAction(\r\n            \"The collar on %NAME%'s neck releases a strange black fluid, which runs over %POSSESSIVE% body, covering it in a shiny black material that forms a petsuit.\"\r\n        );\r\n        petsuitActivated = true;\r\n    }\r\n\r\n    petsuitCollarDeactivate(C: OtherCharacter | PlayerCharacter): void {\r\n        InventoryRemove(C, \"ItemArms\");\r\n\t\tlet items: ItemBundle[] = JSON.parse(LZString.decompressFromBase64(clothesSafe));\r\n\t\tconsole.log(items);\r\n        items.forEach(item => {\r\n            let asset = AssetGet(C.AssetFamily, item.Group, item.Name);\r\n            if (!!asset) {\r\n                let isRoomDisallowed = !InventoryChatRoomAllow(asset?.Category ?? []);\r\n                if (isRoomDisallowed) {\r\n                    let newItem = InventoryWear(C, item.Name, item.Group, item.Color, item.Difficulty, -1, item.Craft, false);\r\n                    if (!!newItem) {\r\n                        if (!!item.Property)\r\n                            newItem.Property = item.Property;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        ChatRoomCharacterUpdate(C);\r\n        SendAction(\"The petsuit on %NAME% turns back into the black fluid and returns into %POSSESSIVE% collar.\");\r\n        petsuitActivated = false;\r\n    }\r\n\r\n    get allowedPetsuitCollarMembers(): number[] {\r\n        let stringList = GetDelimitedList(this.settings.petsuitCollarSetting.allowedMembers, \",\");\r\n        let memberList = stringList\r\n            .filter((str) => !!str && +str === +str)\r\n            .map((str) => parseInt(str))\r\n            .filter((id) => id != Player.MemberNumber);\r\n        return memberList;\r\n    }\r\n\r\n    AllowedPetsuitCollarMember(member: Character | null): boolean {\r\n        if (!member) return false;\r\n\r\n        if (this.settings.petsuitCollarSetting.lockOwner == true) {\r\n            var collar = InventoryGet(Player, \"ItemNeck\");\r\n            if (collar && collar.Property && collar.Property.LockMemberNumber) {\r\n                if (collar.Property.LockMemberNumber == member.MemberNumber) return true;\r\n                else return false;\r\n            }\r\n        }\r\n\r\n        if (this.allowedPetsuitCollarMembers.length > 0) return this.allowedPetsuitCollarMembers.indexOf(member.MemberNumber ?? 0) >= 0;\r\n        return true;\r\n    }\r\n\r\n    unload(): void {\r\n        removeAllHooksByModule(ModuleCategory.Commands);\r\n    }\r\n\r\n    safeword(): void {\r\n        if (petsuitActivated) {\r\n            this.petsuitCollarDeactivate(Player);\r\n        }\r\n    }\r\n    ValidationVerifyCraftData(\r\n        Craft: unknown,\r\n        Asset: Asset | null\r\n    ): {\r\n        result: CraftingItem | undefined;\r\n        messages: string[];\r\n    } {\r\n        if (Craft === undefined) {\r\n            return {\r\n                result: undefined,\r\n                messages: [],\r\n            };\r\n        }\r\n        const saved = console.warn;\r\n        try {\r\n            const messages: string[] = [];\r\n            console.warn = (m: unknown) => {\r\n                if (typeof m === \"string\") {\r\n                    messages.push(m);\r\n                }\r\n            };\r\n            const result = CraftingValidate(Craft as CraftingItem, Asset, true);\r\n            return {\r\n                result: result > CraftingStatusType.CRITICAL_ERROR ? (Craft as CraftingItem) : undefined,\r\n                messages,\r\n            };\r\n        } catch (error) {\r\n            saved(\"BCX: Failed crafted data validation because of crash:\", error);\r\n            return {\r\n                result: undefined,\r\n                messages: [`Validation failed: ${error}`],\r\n            };\r\n        } finally {\r\n            console.warn = saved;\r\n        }\r\n    }\r\n}\r\n","import { sendLLSMessage } from \"utils\";\r\nimport { BaseSettingsModel } from \"../Models/base\";\r\nimport { SETTING_NAME_PREFIX } from \"../settingDefinitions\";\r\nimport { BaseModule } from \"base\";\r\nimport { GuiSubscreen } from \"Settings/settingBase\";\r\nimport { getModule } from \"modules\";\r\nimport { RemoteUiModule } from \"Modules/remoteUi\";\r\nimport { RemoteMainMenu } from \"./mainmenu\";\r\n\r\nexport abstract class RemoteGuiSubscreen extends GuiSubscreen {\r\n\tdirty: boolean = false;\r\n\treadonly Character: OtherCharacter;\r\n\r\n\tconstructor(module: BaseModule, C: OtherCharacter) {\r\n\t\tsuper(module);\r\n\t\tthis.Character = C;\r\n\t}\r\n\r\n\tget SubscreenName(): string {\r\n\t\treturn SETTING_NAME_PREFIX + this.constructor.name;\r\n\t}\r\n\r\n\tsetSubscreen(screen: RemoteGuiSubscreen): RemoteGuiSubscreen {\r\n\t\tvar rootModule = getModule<RemoteUiModule>(\"RemoteUiModule\");\r\n\t\tif (!!rootModule && !!screen) rootModule.currentSubscreen = screen;\r\n\t\treturn screen;\r\n\t}\r\n\r\n\tget settings(): BaseSettingsModel {\r\n\t\tif (!this.module.settingsStorage) return {} as BaseSettingsModel;\r\n\t\tif (!this.Character?.LLS || !(<any>this.Character.LLS)[this.module.settingsStorage]) {\r\n\t\t\treturn {} as BaseSettingsModel; // Somehow a non-mod user made it this far?\r\n\t\t}\r\n\t\treturn (<any>this.Character.LLS)[this.module.settingsStorage];\r\n\t}\r\n\r\n\tsettingsSave() {\r\n\t\tif (!this.Character || !this.dirty) return;\r\n\t\tsendLLSMessage(<LLSMessageModel>{\r\n\t\t\ttype: \"command\",\r\n\t\t\treply: false,\r\n\t\t\ttarget: this.Character?.MemberNumber!,\r\n\t\t\tversion: LLS_VERSION,\r\n\t\t\tsettings: this.Character.LLS,\r\n\t\t\tcommand: {\r\n\t\t\t\tname: \"remote\",\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tLoad(): void {\r\n\t\tsuper.Load();\r\n\t\tthis.dirty = false;\r\n\t}\r\n\r\n\tClick() {\r\n\t\tsuper.Click();\r\n\t\tthis.dirty = true;\r\n\t}\r\n\r\n\tExit() {\r\n\t\tthis.structure.forEach((item) => {\r\n\t\t\tswitch (item.type) {\r\n\t\t\t\tcase \"number\":\r\n\t\t\t\t\tif (!CommonIsNumeric(ElementValue(item.id))) {\r\n\t\t\t\t\t\tElementRemove(item.id);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tcase \"text\":\r\n\t\t\t\t\tlet val = ElementValue(item.id);\r\n\t\t\t\t\tif (val != item.setting()) this.dirty = true;\r\n\t\t\t\t\titem.setSetting(ElementValue(item.id));\r\n\t\t\t\t\tElementRemove(item.id);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"colorpicker\":\r\n\t\t\t\t\tif (CommonIsColor(ElementValue(item.id))) {\r\n\t\t\t\t\t\titem.setSetting(ElementValue(item.id));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tElementRemove(item.id);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.settingsSave();\r\n\t\tvar rootModule = getModule<RemoteUiModule>(\"RemoteUiModule\");\r\n\t\tif (!!rootModule) rootModule.currentSubscreen = new RemoteMainMenu(rootModule, this.Character);\r\n\t}\r\n}\r\n","import { RemoteGuiSubscreen } from \"./remoteBase\";\r\nimport { Setting } from \"Settings/settingBase\";\r\nimport { GetDelimitedList } from \"utils\";\r\nimport { PetsuitCollarModel, ArtifactPublicSettingsModel, PetsuitCollarSettingsModel } from \"Settings/Models/artifacts\";\r\n\r\nexport class RemotePetsuitCollar extends RemoteGuiSubscreen {\r\n\tsubscreens: RemoteGuiSubscreen[] = [];\r\n\r\n\tget name(): string {\r\n\t\treturn \"Petsuit Collar\";\r\n\t}\r\n\r\n\tget allowedMemberIds(): number[] {\r\n\t\tlet idList =\r\n\t\t\tGetDelimitedList(this.settings.petsuitCollarSetting.allowedMembers)\r\n\t\t\t\t.map((id) => +id)\r\n\t\t\t\t.filter((id) => id > 0) ?? [];\r\n\t\tif (this.settings.petsuitCollarSetting.petsuitCollar && this.settings.petsuitCollarSetting.petsuitCollar.creator > 0)\r\n\t\t\tidList.push(this.settings.petsuitCollarSetting.petsuitCollar.creator);\r\n\t\tlet collar = InventoryGet(this.Character, \"ItemNeck\");\r\n\t\tif(this.settings.petsuitCollarSetting.lockOwner && collar && collar.Property && collar.Property.LockMemberNumber)\r\n\t\t\tidList.push(collar.Property.LockMemberNumber as number);\r\n\t\tif(idList.includes(this.Character.MemberNumber as number))\r\n\t\t\tidList.splice(idList.indexOf(this.Character.MemberNumber as number), 1);\r\n\t\treturn idList;\r\n\t}\r\n\r\n\tget disabledReason(): string {\r\n\t\tvar memberIdIsAllowed = ServerChatRoomGetAllowItem(Player, this.Character);\r\n\t\tif (this.allowedMemberIds.length > 0)\r\n\t\t\tmemberIdIsAllowed = this.allowedMemberIds.indexOf(Player.MemberNumber!) > -1;\r\n\r\n\t\tif (!memberIdIsAllowed) return \"You do not have access to their artifacts...\";\r\n\t\telse if (!this.settings.petsuitCollarSetting.remoteAccess) return \"Remote Access is Disabled\";\r\n\t\telse if (!this.settings.petsuitCollarSetting.enabled) return \"Section is Disabled\";\r\n\t\telse return \"Section is Unavailable\";\r\n\t}\r\n\r\n\tget enabled(): boolean {\r\n\t\tvar memberIdIsAllowed: boolean = ServerChatRoomGetAllowItem(Player, this.Character);\r\n\t\tif (this.allowedMemberIds.length > 0)\r\n\t\t\tmemberIdIsAllowed = this.allowedMemberIds.indexOf(Player.MemberNumber!) > -1;\r\n\t\t\r\n\t\treturn this.settings.petsuitCollarSetting.remoteAccess && this.settings.petsuitCollarSetting.enabled && memberIdIsAllowed;\r\n\t}\r\n\r\n\tget icon(): string {\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\tget settings(): ArtifactPublicSettingsModel {\r\n\t\treturn super.settings as ArtifactPublicSettingsModel;\r\n\t}\r\n\r\n\tget multipageStructure(): Setting[][] {\r\n\t\treturn [\r\n\t\t\t[\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"colorpicker\",\r\n\t\t\t\t\tid: \"petsuitCollar_buckleColor\",\r\n\t\t\t\t\tlabel: \"Petsuit Buckle Color:\",\r\n\t\t\t\t\tdescription: \"Sets the color of the buckles on the petsuit.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.buckleColor ?? \"#5AC5EE\",\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.buckleColor = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"colorpicker\",\r\n\t\t\t\t\tid: \"petsuitCollar_strapColor\",\r\n\t\t\t\t\tlabel: \"Petsuit Strap Color:\",\r\n\t\t\t\t\tdescription: \"Sets the color of the straps on the petsuit.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.strapColor ?? \"#2C2C2C\",\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.strapColor = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Lock Owner:\",\r\n\t\t\t\t\tdescription: \"Only allows the person that locked the collar to trigger it.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.lockOwner ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.lockOwner = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\tid: \"petsuitCollar_allowedMembers\",\r\n\t\t\t\t\tlabel: \"Allowed Member IDs:\",\r\n\t\t\t\t\tdescription: \"A list of member IDs seperated by a comma, who are allowed to use the collar.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.allowedMembers ?? \"\",\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.allowedMembers = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Enable Voice Commands:\",\r\n\t\t\t\t\tdescription: \"Enables voice commands for the petsuit collar.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.speechEnabled ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.speechEnabled = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\tid: \"petsuitCollar_trigger\",\r\n\t\t\t\t\tlabel: \"Trigger:\",\r\n\t\t\t\t\tdescription: \"Sets the trigger word/sentence for the petsuit collar.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.trigger ?? \"\",\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.trigger = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.speechEnabled || !this.settings.petsuitCollarSetting.enabled,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Allow Self-Speechtrigger:\",\r\n\t\t\t\t\tdescription: \"Allows the wearer of the collar to trigger the speech commands.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.allowSelfTrigger ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.allowSelfTrigger = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.speechEnabled || !this.settings.petsuitCollarSetting.enabled,\r\n\t\t\t\t},\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Locked:\",\r\n\t\t\t\t\tdescription: \"Disallows the wearer of the collar from modifying any settings regarding the petsuit collar.\",\r\n\t\t\t\t\tsetting: () => this.settings.petsuitCollarSetting.locked ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.petsuitCollarSetting.locked = val),\r\n\t\t\t\t\tdisabled: !this.settings.petsuitCollarSetting.enabled || !this.settings.petsuitCollarSetting.lockable,\r\n\t\t\t\t},\r\n\t\t\t],/*[\r\n\t\t\t\t<Setting>{\r\n\t\t\t\t\ttype: \"checkbox\",\r\n\t\t\t\t\tlabel: \"Catspeech mask enabled:\",\r\n\t\t\t\t\tdescription: \"Enables the catspeech mask.\",\r\n\t\t\t\t\tsetting: () => this.settings.catSpeechEnabled ?? false,\r\n\t\t\t\t\tsetSetting: (val) => (this.settings.catSpeechEnabled = val)\r\n\t\t\t\t},\r\n\t\t\t]*/\r\n\t\t];\r\n\t}\r\n\r\n\tblinkLastTime = 0;\r\n\tblinkColor = \"Red\";\r\n\tRun(): void {\r\n\t\tsuper.Run();\r\n\r\n\t\tvar prev = MainCanvas.textAlign;\r\n\t\tlet buttonPos = this.structure.length;\r\n\t\tif (\r\n\t\t\tsuper.PreferenceColorPick != \"\" &&\r\n\t\t\t((super.PreferenceColorPickLeft && this.getXPos(buttonPos) < 1000) ||\r\n\t\t\t\t(!super.PreferenceColorPickLeft && this.getXPos(buttonPos) > 1000))\r\n\t\t)\r\n\t\t\treturn;\r\n\t\telse if (this.settings.petsuitCollarSetting.enabled && PreferencePageCurrent == 1) {\r\n\t\t\tMainCanvas.textAlign = \"left\";\r\n\t\t\t// Set/Update Collar\t \t[Custom??]\r\n\t\t\tlet updateDisabled = !this.settings.petsuitCollarSetting.enabled;\r\n\t\t\tDrawText(\r\n\t\t\t\t\"Update Collar:\",\r\n\t\t\t\tthis.getXPos(buttonPos),\r\n\t\t\t\tthis.getYPos(buttonPos),\r\n\t\t\t\tupdateDisabled ? \"Gray\" : \"Black\",\r\n\t\t\t\t\"Gray\"\r\n\t\t\t);\r\n\t\t\tMainCanvas.textAlign = \"center\";\r\n\t\t\tDrawButton(\r\n\t\t\t\tthis.getXPos(buttonPos) + 464,\r\n\t\t\t\tthis.getYPos(buttonPos) - 32,\r\n\t\t\t\t200,\r\n\t\t\t\t64,\r\n\t\t\t\t\"Update\",\r\n\t\t\t\tupdateDisabled ? \"#CCCCCC\" : \"White\",\r\n\t\t\t\tundefined,\r\n\t\t\t\tupdateDisabled ? \"\" : \"Update Collar to Current\",\r\n\t\t\t\tupdateDisabled\r\n\t\t\t);\r\n\r\n\t\t\tMainCanvas.textAlign = \"left\";\r\n\t\t\tif (!!this.settings.petsuitCollarSetting.petsuitCollar) {\r\n\t\t\t\tDrawText(\r\n\t\t\t\t\t\"Current Name: \" + this.settings.petsuitCollarSetting.petsuitCollar.name,\r\n\t\t\t\t\tthis.getXPos(buttonPos),\r\n\t\t\t\t\tthis.getYPos(buttonPos) + 60,\r\n\t\t\t\t\t\"Gray\",\r\n\t\t\t\t\t\"Gray\"\r\n\t\t\t\t);\r\n\t\t\t\tif (!!this.settings.petsuitCollarSetting.petsuitCollar.creator && this.settings.petsuitCollarSetting.petsuitCollar.creator > 0)\r\n\t\t\t\t\tDrawText(\r\n\t\t\t\t\t\t\"Current Crafter: \" + this.settings.petsuitCollarSetting.petsuitCollar.creator,\r\n\t\t\t\t\t\tthis.getXPos(buttonPos),\r\n\t\t\t\t\t\tthis.getYPos(buttonPos) + 110,\r\n\t\t\t\t\t\t\"Gray\",\r\n\t\t\t\t\t\t\"Gray\"\r\n\t\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\tMainCanvas.textAlign = prev;\r\n\t}\r\n\r\n\tClick() {\r\n\t\tsuper.Click();\r\n\t\tlet buttonPos = this.structure.length;\r\n\r\n\t\tif (\r\n\t\t\tsuper.PreferenceColorPick != \"\" &&\r\n\t\t\t((super.PreferenceColorPickLeft && this.getXPos(buttonPos) < 1000) ||\r\n\t\t\t\t(!super.PreferenceColorPickLeft && this.getXPos(buttonPos) > 1000))\r\n\t\t)\r\n\t\t\treturn;\r\n\t\telse if (this.settings.petsuitCollarSetting.enabled && PreferencePageCurrent == 1) {\r\n\t\t\tif (this.settings.petsuitCollarSetting.enabled) {\r\n\t\t\t\t// Update Collar Button\r\n\t\t\t\tlet buttonPos = this.structure.length;\r\n\t\t\t\tif (MouseIn(this.getXPos(buttonPos) + 464, this.getYPos(buttonPos) - 32, 200, 64)) {\r\n\t\t\t\t\tvar collar = InventoryGet(this.Character, \"ItemNeck\");\r\n\t\t\t\t\tif (!collar) {\r\n\t\t\t\t\t\tthis.message = \"No Collar Equipped\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.message = \"Collar updated\";\r\n\t\t\t\t\t\tthis.settings.petsuitCollarSetting.petsuitCollar = <PetsuitCollarModel>{\r\n\t\t\t\t\t\t\tname: collar.Craft?.Name ?? collar.Asset.Name,\r\n\t\t\t\t\t\t\tcreator: collar.Craft?.MemberNumber ?? 0,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { getModule } from \"modules\";\r\nimport { RemoteUiModule } from \"Modules/remoteUi\";\r\nimport { RemoteGuiSubscreen } from \"./remoteBase\";\r\nimport { GuiSubscreen } from \"Settings/settingBase\";\r\nimport { RemotePetsuitCollar } from \"./petsuitCollar\";\r\nimport { ArtifactModule } from \"Modules/artifacts\";\r\n\r\nexport class RemoteMainMenu extends RemoteGuiSubscreen {\r\n\tsubscreens: RemoteGuiSubscreen[] = [];\r\n\r\n\tget name(): string {\r\n\t\treturn \"MainMenu\";\r\n\t}\r\n\r\n\tget enabled(): boolean {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget hidden(): boolean {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconstructor(module: RemoteUiModule, C: OtherCharacter) {\r\n\t\tsuper(module, C);\r\n\t}\r\n\r\n\tonChange(source: number) {\r\n\t\tif (source === this.character.MemberNumber) {\r\n\t\t\tthis.Load();\r\n\t\t}\r\n\t}\r\n\r\n\tLoad(): void {\r\n\t\tthis.subscreens = [\r\n            new RemotePetsuitCollar(getModule<ArtifactModule>(\"ArtifactModule\"), this.Character)\r\n\t\t];\r\n\t}\r\n\r\n\tget character(): Character {\r\n\t\t// Because we're initialized by that instance, it must already exist\r\n\t\treturn this.Character as Character;\r\n\t}\r\n\r\n\tRun() {\r\n\t\tvar prev = MainCanvas.textAlign;\r\n\t\tMainCanvas.textAlign = \"left\";\r\n\t\tDrawText(`- Lillys Little Scripts ${(this.Character as OtherCharacter).LLS?.Version ?? \"?.?.?\"} -`, GuiSubscreen.START_X, GuiSubscreen.START_Y - GuiSubscreen.Y_MOD, \"Black\", \"#D7F6E9\");\r\n\t\tDrawButton(1815, 75, 90, 90, \"\", \"White\", \"Icons/Exit.png\");\r\n\t\t\r\n\t\tMainCanvas.textAlign = \"center\";\r\n\t\tlet i = 0;\r\n\t\tfor (const screen of this.subscreens) {\r\n\t\t\tconst PX = Math.floor(i / 6);\r\n\t\t\tconst PY = i % 6;\r\n\r\n\t\t\tconst isDisabled = !screen.enabled;\r\n\t\t\tconst reason = screen.disabledReason;\r\n\r\n\t\t\t// Skip disabled screens for the time being\r\n\t\t\tif (screen.name == \"MainMenu\" || screen.hidden) continue;\r\n\r\n\t\t\tDrawButton(150 + 430 * PX, 190 + 120 * PY, 450, 90, \"\", isDisabled ? \"#ddd\" : \"White\", \"\",\r\n\t\t\t\tisDisabled ? reason : \"\", isDisabled);\r\n\t\t\t//DrawImageResize(screen.icon, 150 + 430 * PX + 10, 190 + 120 * PY + 10, 70, 70);\r\n\t\t\tMainCanvas.textAlign = \"left\";\r\n\t\t\tDrawTextFit(screen.name, 250 + 430 * PX, 235 + 120 * PY, 340, \"Black\");\r\n\t\t\tMainCanvas.textAlign = \"center\";\r\n\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t\tMainCanvas.textAlign = prev;\r\n\t}\r\n\r\n\tClick() {\r\n\t\tif (MouseIn(1815, 75, 90, 90)) return this.Exit();\r\n\r\n\t\tlet i = 0\r\n\t\tfor (const screen of this.subscreens) {\r\n\t\t\tconst PX = Math.floor(i / 6);\r\n\t\t\tconst PY = i % 6;\r\n\t\t\t\r\n\t\t\tif (screen.name == \"MainMenu\" || screen.hidden) continue;\r\n\r\n\t\t\tif (MouseIn(150 + 430 * PX, 190 + 120 * PY, 450, 90) && screen.enabled) {\r\n\t\t\t\tthis.setSubscreen(screen);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n\r\n\tExit(): void {\r\n\t\t(this.module as RemoteUiModule).currentSubscreen = null;\r\n\t}\r\n}","import { BaseModule } from \"base\";\r\nimport { RemoteMainMenu } from \"Settings/Remote/mainmenu\";\r\nimport { RemoteGuiSubscreen } from \"Settings/Remote/remoteBase\";\r\nimport { ModuleCategory } from \"Settings/settingDefinitions\";\r\nimport { getChatroomCharacter, hookFunction, removeAllHooksByModule } from \"../utils\";\r\n\r\n// Remote UI Module to handle configuration on other characters\r\n// Can be used to \"program\" another character's hypnosis, collar, etc.\r\n// Framework inspired from BCX\r\nexport class RemoteUiModule extends BaseModule {   \r\n\r\n    private _currentSubscreen: RemoteGuiSubscreen | null = null;\r\n\r\n\tget currentSubscreen(): RemoteGuiSubscreen | null {\r\n\t\treturn this._currentSubscreen;\r\n\t}\r\n\r\n\tset currentSubscreen(subscreen: RemoteGuiSubscreen | null) {\r\n\t\tif (this._currentSubscreen) {\r\n\t\t\tthis._currentSubscreen.Unload();\r\n\t\t}\r\n\t\tthis._currentSubscreen = subscreen;\r\n\t\tif (this._currentSubscreen) {\r\n\t\t\tthis._currentSubscreen.Load();\r\n\t\t}\r\n\t}\r\n\r\n    getInformationSheetCharacter(): OtherCharacter | PlayerCharacter | null {\r\n\t\tconst C = InformationSheetSelection;\r\n\t\tif (!C || typeof C.MemberNumber !== \"number\") return null;\r\n\t\tif (C.IsPlayer())\r\n\t\t\treturn Player as PlayerCharacter;\r\n\t\treturn getChatroomCharacter(C.MemberNumber) as OtherCharacter;\r\n\t}\r\n\r\n    hasAccessToPlayer(C: OtherCharacter): boolean {\r\n\t\treturn ServerChatRoomGetAllowItem(C, Player);\r\n\t}\r\n\r\n\tplayerHasAccessToCharacter(C: OtherCharacter): boolean {\r\n\t\treturn !!C && !C.IsPlayer() && ServerChatRoomGetAllowItem(Player, C);\r\n\t}\r\n\r\n\tget playerIsRestrained(): boolean {\r\n\t\treturn Player.IsRestrained();\r\n\t}\r\n\r\n    characterHasMod(C: OtherCharacter): boolean {\r\n        return !!C.LLS;\r\n    }\r\n\r\n    load(): void {\r\n        hookFunction(\"InformationSheetRun\", 11, (args, next) => {\r\n\t\t\tif ((<any>window).bcx?.inBcxSubscreen())\r\n\t\t\t\treturn next(args);\r\n\r\n\t\t\tif (this._currentSubscreen) {\r\n\t\t\t\t(<any>window).LLS_REMOTE_WINDOW_OPEN = true;\r\n\t\t\t\tMainCanvas.textAlign = \"left\";\r\n\t\t\t\tthis._currentSubscreen.Run();\r\n\t\t\t\tMainCanvas.textAlign = \"center\";\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t(<any>window).LLS_REMOTE_WINDOW_OPEN = false;\r\n\t\t\tnext(args);\r\n\t\t\tconst C = this.getInformationSheetCharacter();\r\n            if (!!C && this.characterHasMod(C as OtherCharacter) && !C.IsPlayer()) {\r\n                const playerHasAccessToCharacter = this.playerHasAccessToCharacter(C as OtherCharacter);\r\n                DrawButton(450, 60, 60, 60, \"\", (playerHasAccessToCharacter && !this.playerIsRestrained) ? \"White\" : \"#ddd\", \"\", playerHasAccessToCharacter ? (this.playerIsRestrained ? \"Cannot access while restrained\" : \"LLS Remote Settings\") : \"Needs BC item permission\", !playerHasAccessToCharacter || this.playerIsRestrained);\r\n                //DrawImageResize(ICONS.REMOTE, 95, 65, 50, 50);\r\n            }\r\n\t\t}, ModuleCategory.RemoteUi);\r\n\r\n\t\thookFunction(\"InformationSheetClick\", 10, (args, next) => {\r\n\t\t\tif (this._currentSubscreen) {\r\n\t\t\t\treturn this._currentSubscreen.Click();\r\n\t\t\t}\r\n\r\n\t\t\tconst C = this.getInformationSheetCharacter();\r\n            const playerHasAccessToCharacter = this.playerHasAccessToCharacter(C as OtherCharacter);\r\n\t\t\tif (MouseIn(450, 60, 60, 60) && playerHasAccessToCharacter && !this.playerIsRestrained) {\r\n                this.currentSubscreen = new RemoteMainMenu(this, C as OtherCharacter);\r\n\t\t\t} else {\r\n\t\t\t\treturn next(args);\r\n\t\t\t}\r\n\t\t}, ModuleCategory.RemoteUi);\r\n\r\n\t\thookFunction(\"InformationSheetExit\", 10, (args, next) => {\r\n\t\t\tif (this._currentSubscreen) {\r\n\t\t\t\treturn this._currentSubscreen.Exit();\r\n\t\t\t}\r\n\r\n\t\t\treturn next(args);\r\n\t\t}, ModuleCategory.RemoteUi);\r\n    }\r\n\r\n    unload(): void {\r\n        removeAllHooksByModule(ModuleCategory.RemoteUi);\r\n    }\r\n}","import { bcModSDK, hookFunction, isObject, settingsSave } from \"./utils\";\r\nimport { IPublicSettingsModel, ISettingsModel, PublicSettingsModel } from \"Settings/Models/settings\";\r\nimport { modules, registerModule } from \"modules\";\r\nimport { CoreModule } from \"Modules/core\";\r\nimport { CommandModule } from \"Modules/commands\";\r\nimport { GUI } from \"Settings/settingUtils\";\r\nimport { CardsModule } from \"Modules/cards\";\r\nimport { CraftsModule } from \"Modules/crafts\";\r\nimport { MiscModule } from \"Modules/misc\";\r\nimport { ArtifactModule } from \"Modules/artifacts\";\r\nimport { RemoteUiModule } from \"Modules/remoteUi\";\r\n\r\nfunction initWait() {\r\n\tconsole.debug(\"LLS: Init wait\");\r\n\tif (CurrentScreen == null || CurrentScreen === \"Login\") {\r\n\t\thookFunction(\"LoginResponse\", 0, (args, next) => {\r\n\t\t\tconsole.debug(\"LLS: Init LoginResponse caught\", args);\r\n\t\t\tnext(args);\r\n\t\t\tconst response = args[0];\r\n\t\t\tif (isObject(response) && typeof response.Name === \"string\" && typeof response.AccountName === \"string\") {\r\n\t\t\t\tloginInit(args[0]);\r\n\t\t\t}\r\n\t\t});\r\n\t\tconsole.log(`LLS Ready!`);\r\n\t} else {\r\n\t\tconsole.debug(\"LLS: Already logged in, init\");\r\n\t\tinit();\r\n\t}\r\n}\r\n\r\nexport function initSettingsScreen() {\r\n\tPreferenceSubscreenList.push(\"LLSMainMenu\");\r\n\tconsole.log(\"LLS: init Settings\");\r\n\thookFunction(\"TextGet\", 2, (args: string[], next: (arg0: any) => any) => {\r\n\t\tif (args[0] == \"HomepageLLSMainMenu\") return \"LLS Settings\";\r\n\t\treturn next(args);\r\n\t});\r\n\thookFunction(\"DrawButton\", 2, (args: string[], next: (arg0: any) => any) => {\r\n\t\t//if (args[6] == \"Icons/LLSMainMenu.png\") args[6] = ICONS.BOUND_GIRL;// \"Icons/Asylum.png\";\r\n\t\treturn next(args);\r\n\t});\r\n}\r\n\r\nexport function loginInit(C: any) {\r\n\tif (window.LLS_Loaded) return;\r\n\tinit();\r\n}\r\n\r\nexport function init() {\r\n\tif (window.LLS_Loaded) return;\r\n\r\n\t// clear any old settings.\r\n\t//if (!!(<any>Player.OnlineSettings)?.LillysScripts)\r\n\t//\tdelete (<any>Player.OnlineSettings).LillysScripts;\r\n\t//if (!!(<any>Player.OnlineSettings)?.ClubGames)\r\n\t//\tdelete (<any>Player.OnlineSettings).ClubGames;\r\n\r\n\t/*const before = Player.OnlineSettings?.LLS || <ISettingsModel>{};\r\n\tconsole.warn(\"LLS: Loading settings\");\r\n\tlet reduced = new SettingsModel();\r\n\tlo.assign(reduced , lo.pick(before, lo.keys(reduced)));\r\n\tPlayer.LLS = reduced\r\n\tconsole.warn(\"LLS: Done Loading settings\");*/\r\n\r\n\tPlayer.LLS = Player.OnlineSettings?.LLS || <ISettingsModel>{};\r\n\r\n\tinitSettingsScreen();\r\n\r\n\r\n\tif (!initModules()) {\r\n\t\tunload();\r\n\t\treturn;\r\n\t}\r\n\r\n\tsettingsSave();\r\n\r\n\tconst currentAccount = Player.MemberNumber;\r\n\tif (currentAccount == null) {\r\n\t\tthrow new Error(\"No player MemberNumber\");\r\n\t}\r\n\r\n\thookFunction(\"LoginResponse\", 0, (args, next) => {\r\n\t\tconst response = args[0];\r\n\t\tif (\r\n\t\t\tisObject(response) &&\r\n\t\t\ttypeof response.Name === \"string\" &&\r\n\t\t\ttypeof response.AccountName === \"string\" &&\r\n\t\t\tresponse.MemberNumber !== currentAccount\r\n\t\t) {\r\n\t\t\talert(\r\n\t\t\t\t`Attempting to load LLS with different account than already loaded (${response.MemberNumber} vs ${currentAccount}). This is not supported, please refresh the page.`\r\n\t\t\t);\r\n\t\t\tthrow new Error(\"Attempting to load LLS with different account\");\r\n\t\t}\r\n\t\treturn next(args);\r\n\t});\r\n\r\n\twindow.LLS_Loaded = true;\r\n\tconsole.log(`LLS loaded! Version: ${LLS_VERSION}`);\r\n}\r\n\r\nfunction initModules(): boolean {\r\n\tregisterModule(new CoreModule());\r\n\tregisterModule(new CommandModule());\r\n\tregisterModule(new CardsModule());\r\n\tregisterModule(new CraftsModule());\r\n\tregisterModule(new GUI());\r\n\tregisterModule(new MiscModule());\r\n\tregisterModule(new ArtifactModule());\r\n\tregisterModule(new RemoteUiModule());\r\n\r\n\tfor (const m of modules()) {\r\n\t\tm.init();\r\n\t}\r\n\r\n\tfor (const m of modules()) {\r\n\t\tm.load();\r\n\t}\r\n\r\n\tfor (const m of modules()) {\r\n\t\tm.run();\r\n\t}\r\n\r\n\thookFunction(\"ChatRoomSafewordRevert\", 1, (args, next) => {\r\n\t\tfor (const m of modules()) {\r\n\t\t\tm.safeword();\r\n\t\t}\r\n\t\treturn next(args);\r\n\t});\r\n\r\n\thookFunction(\"ChatRoomSafewordRelease\", 1, (args, next) => {\r\n\t\tvar ret = next(args);\r\n\t\tfor (const m of modules()) {\r\n\t\t\tm.safeword();\r\n\t\t}\r\n\t\treturn ret;\r\n\t});\r\n\r\n\tconsole.info(\"LLS Modules Loaded.\");\r\n\treturn true;\r\n}\r\n\r\nexport function unload(): true {\r\n\tunloadModules();\r\n\r\n\tdelete window.LLS_Loaded;\r\n\tconsole.log(\"LLS: Unloaded.\");\r\n\treturn true;\r\n}\r\n\r\nfunction unloadModules() {\r\n\tfor (const m of modules()) {\r\n\t\tm.unload();\r\n\t}\r\n}\r\n\r\ninitWait();\r\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}